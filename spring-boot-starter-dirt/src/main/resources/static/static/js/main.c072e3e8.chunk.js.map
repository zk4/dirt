{"version":3,"sources":["lib/query_builder/item.js","lib/query_builder/comparators.js","lib/query_builder/operators.js","lib/query_builder/functions.js","lib/query_builder/index.js","logic/util.js","logic/network.js","consts/consts.js","components/customRender.js","components/readForm.js","consts/uiConsts.js","components/richEditor.js","components/cascader.js","components/selectInput.js","components/imageUploader.js","components/selectLiveInput.js","components/writeForm.js","components/dirtTable.js","components/tree.js","App.js","index.js"],"names":["Item","Object","classCallCheck","this","constructor","TypeError","concat","name","protoLits","getPrototypeOf","unshift","superProto","shift","missing","find","some","proto","hasOwnProperty","Comparator","selector","comparatorKeyWord","_this","value","arguments","length","undefined","_super","call","Function","String","Number","Like","_super2","Equal","_super3","NotEqual","_super4","Gt","_super5","Ge","_super6","Lt","_super7","Le","_super8","IsNull","_super9","IsNotNull","_super10","IsEmpty","_super11","IsNotEmpty","_super12","In","_len","values","Array","_key","_super13","join","Operator","operatorKeyWord","items","map","item","toString","And","_len2","_key2","apply","Or","_len3","_key3","Not","Exists","functionKeyWord","Absolute","Average","Min","Max","Sum","CurrentDate","CurrentTime","CurrentTimestamp","Size","Length","Trim","Upper","Lower","_super14","Concat","selectors","_super15","SpringFilterQueryBuilder","createClass","key","construct","toConsumableArray","isObj","o","isArray","axios","defaults","baseURL","interceptors","response","use","res","status","message","error","statusText","Promise","reject","data","code","reason","_error$response","_error$response$data","_error$response2","_error$response2$data","getOptionsAsync","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","postData","ret","wrap","_context","prev","next","post","sent","abrupt","stop","_x","network","getTableHeadersAsync","_ref2","_callee2","entityName","_context2","get","_x2","getDataAsync","_ref3","_callee3","id","_context3","_x3","_x4","deleteByIdAsync","_ref4","_callee4","success_cb","_context4","_x5","_x6","_x7","deleteByIdsAsync","_ref5","_callee5","_context5","_x8","_x9","createAsync","_ref6","_callee6","_context6","objectSpread2","_x10","_x11","_x12","updateAsync","_ref7","_callee7","_context7","_x13","_x14","_x15","actionAsync","_ref8","_callee8","_context8","_x16","_x17","getDirtFieldTypeAsync","_ref9","_callee9","_context9","_x18","_x19","searchFullAsync","_ref10","_callee10","filter","_context10","_x20","_x21","_x22","searchAsync","_ref11","_callee11","columnKeyMap","params","sort","paramsCpy","filters","filterParams","filterStr","sortQuery","sortParams","pageParam","url","_args11","_context11","pageNumber","current","assign","entries","_ref12","_ref13","slicedToArray","_ref14","_ref15","column","searchType","valueType","SFQB","and","ge","le","Error","like","_ref16","_ref17","k","v","equal","arrow","pageSize","resolve","total","page","totalPages","success","_x23","_x24","consts","None","ManyToOne","OneToOne","OneToMany","ManyToMany","customRender","table","title","cls","idObj","console","assert","react_default","a","createElement","components_readForm","readForm","_useState","useState","_useState2","formData","setFormData","_useState3","_useState4","show","setShow","useEffect","readForm_regeneratorRuntime","headers","d","relation","cls2","idOfEntity","dataIndex","Consts","initialValue","_data$dataIndex","_data$dataIndex2","Fragment","c","b","index","SchemaForm","readonly","onInit","e","trigger","href","layoutType","columns","autoFocusFirstInput","submitTimeout","rowProps","gutter","colProps","span","grid","onFinish","uiConsts","password","money","textarea","date","dateTime","dateWeek","dateMonth","dateQuarter","dateYear","dateRange","dateTimeRange","time","timeRange","text","richtext","select","selectInputMultipal","selectLiveInput","selectInput","treeSelect","entitySelect","checkbox","rate","radio","radioButton","progress","percent","digit","longlat","second","avatar","switch","fromNow","image","jsonCode","color","cascader","imageUploader","group","formList","slide","richEditor","WriteView","props","setValue","innerChange","useCallback","onChange","lib_default","onBlur","theme","TableRowView","dangerouslySetInnerHTML","__html","SearchView","ReadView","subTreeName","onValueSet","options","setOptions","request","cascader_regeneratorRuntime","ds","childAlias","JSON","parse","stringify","replaceAll","loadData","selectedOptions","targetOption","loading","children","valueArrays","optionArrays","changeOnSelect","components_cascader","contentStyle","height","lineHeight","textAlign","background","fileList","setFileList","onPreview","imageUploader_regeneratorRuntime","file","src","imgWindow","reader","FileReader","readAsDataURL","originFileObj","onload","result","Image","window","open","document","write","outerHTML","antd_img_crop_esm","rotate","readOnly","upload","action","listType","newFileList","log","carousel","autoplay","style","i","push","label","fuc","size","splice","handleChange","es_select","mode","width","allowClear","tokenSeparators","placeholder","DebounceSelect","fetchOptions","_ref$debounceTimeout","debounceTimeout","objectWithoutProperties","_excluded","fetching","setFetching","_useState5","_useState6","setLoading","fetchRef","useRef","debounceFetcher","useMemo","debounce","fetchId","then","newOptions","labelInValue","showArrow","onFocus","filterOption","onSearch","notFoundContent","spin","_useState7","_useState8","func","writeForm","triggerCompoent","isModalOpen","setIsModalOpen","createColumns","columnKey","dependColumn","UIConsts","form","type","defaultRender","formItemProps","fieldProps","writeForm_excluded","writeForm_regeneratorRuntime","username","arg","getFieldValue","subKey","args","defineProperty","_e$","setFieldValue","_excluded2","valueEnum","_excluded3","_excluded4","_valueArrays$slice","slice","xs","md","_excluded5","vaule","_excluded6","_excluded7","vals","input","Group","compact","target","es_button","onClick","s","SearchOutlined","modal","destroyOnClose","onOk","onCancel","DirtTable","rowSelection","getCheckboxProps","record","defaultSelectedRowKeys","selectedRowKeys","selectedRows","info","ids","actionRef","formRef","RangePicker","DatePicker","onSelected","setColumns","setColumnKeyMap","redefineHeader","reduce","renderFormItem","dirtTable_excluded","showTime","time_picker","_record$dataIndex","r","rid","generateAction","dirtTable_regeneratorRuntime","maps","searchAsyncWrapper","_args2","generateCreateForm","submitTypes","submitType","reload","PlusOutlined","submitable","tooltip","isDetailed","postdata","popconfirm","onConfirm","className","argColumnsMap","doAction","actionName","Table","scroll","x","cardBordered","editable","columnsState","persistenceKey","persistenceType","rowKey","search","labelWidth","setting","listsHeight","syncToUrl","pagination","dateFormatter","headerTitle","toolBarRender","tableAlertRender","onCleanSelected","space","marginInlineStart","CarryOutOutlined","FormOutlined","App","tables","setTables","qs","location","ignoreQueryPrefix","setTitle","viewType","App_regeneratorRuntime","keys","t","marginBottom","ReactDOM","render","src_App_0","getElementById"],"mappings":"+aAAMA,cACL,SAAAA,IAAeC,OAAAC,EAAA,EAAAD,CAAAE,KAAAH,GAEd,IAAIG,gBAAAH,EAAAG,KAAAC,iBAAA,KAAeJ,EAClB,MAAM,IAAIK,UAAJ,oBAAAC,QAAkCH,gBAAAH,EAAAG,KAAAC,iBAAA,GAAWG,KAA7C,wBAGP,IADA,IAAIC,EAAY,CAAEP,OAAOQ,eAAeN,OACuB,WAAzDF,OAAOQ,eAAeD,EAAU,IAAIJ,YAAYG,MAAqBC,EAAUE,QAAQT,OAAOQ,eAAeD,EAAU,KAC7H,IAAMG,EAAaH,EAAUI,QACzBC,EAPyB,CAAE,YAOIC,KAAK,SAAAP,GAAI,MAAgC,oBAArBI,EAAWJ,KAAyBC,EAAUO,KAAK,SAAAC,GAAK,OAAIA,EAAMC,eAAeV,OACxI,GAAIM,EACH,MAAM,IAAIR,UAAJ,GAAAC,OAAiBH,KAAKC,YAAYG,KAAlC,uBAAAD,OAA4DO,MCT/DK,oDACL,SAAAA,EAAYC,EAAUC,GAAsC,IAAAC,EAAnBC,EAAmBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,QAAXE,EAEhD,GAF2DxB,OAAAC,EAAA,EAAAD,CAAAE,KAAAe,GAC3DG,EAAAK,EAAAC,KAAAxB,OACIA,gBAAAe,EAAAf,KAAAC,iBAAA,KAAec,EAClB,MAAM,IAAIb,UAAJ,oBAAAC,QAAkCH,gBAAAe,EAAAf,KAAAC,iBAAA,GAAWG,KAA7C,wBAEP,KAAMY,aAAoBS,UAAiC,kBAAbT,GAAyBA,aAAoBU,QAC1F,MAAM,IAAIxB,UAAJ,GAAAC,QAAiBH,gBAAAe,EAAAf,KAAAC,iBAAA,GAAWG,KAA5B,0DAEP,GAAIe,KACoB,kBAAVA,GAAsBA,aAAiBO,QAA2B,kBAAVP,GAAsBA,aAAiBQ,QAC3G,MAAM,IAAIzB,UAAJ,GAAAC,QAAiBH,gBAAAe,EAAAf,KAAAC,iBAAA,GAAWG,KAA5B,qDAVmD,OAa3Dc,EAAKF,SAAWA,EAChBE,EAAKD,kBAAoBA,EACzBC,EAAKC,MAAQA,EAf8CD,8CAkB5D,WACC,YAAmBI,IAAftB,KAAKmB,MACkB,kBAAfnB,KAAKmB,OAAsBnB,KAAKmB,iBAAiBQ,OAC3D,GAAAxB,OAAUH,KAAKgB,SAAf,KAAAb,OAA2BH,KAAKiB,kBAAhC,KAAAd,OAAqDH,KAAKmB,OAE1D,GAAAhB,OAAUH,KAAKgB,SAAf,KAAAb,OAA2BH,KAAKiB,kBAAhC,MAAAd,OAAsDH,KAAKmB,MAA3D,KAGD,GAAAhB,OAAUH,KAAKgB,SAAf,KAAAb,OAA2BH,KAAKiB,0BA3BVpB,GAgCnB+B,oDACL,SAAAA,EAAYZ,EAAUG,GAAQ,OAAArB,OAAAC,EAAA,EAAAD,CAAAE,KAAA4B,GAAAC,EAAAL,KAAAxB,KACvBgB,EAAU,IAAKG,0BAFJJ,GAMbe,oDACL,SAAAA,EAAYd,EAAUG,GAAQ,OAAArB,OAAAC,EAAA,EAAAD,CAAAE,KAAA8B,GAAAC,EAAAP,KAAAxB,KACvBgB,EAAU,IAAKG,0BAFHJ,GAMdiB,oDACL,SAAAA,EAAYhB,EAAUG,GAAQ,OAAArB,OAAAC,EAAA,EAAAD,CAAAE,KAAAgC,GAAAC,EAAAT,KAAAxB,KACvBgB,EAAU,IAAKG,0BAFAJ,GAMjBmB,oDACL,SAAAA,EAAYlB,EAAUG,GAAQ,OAAArB,OAAAC,EAAA,EAAAD,CAAAE,KAAAkC,GAAAC,EAAAX,KAAAxB,KACvBgB,EAAU,IAAKG,0BAFNJ,GAMXqB,oDACL,SAAAA,EAAYpB,EAAUG,GAAQ,OAAArB,OAAAC,EAAA,EAAAD,CAAAE,KAAAoC,GAAAC,EAAAb,KAAAxB,KACvBgB,EAAU,KAAMG,0BAFPJ,GAMXuB,oDACL,SAAAA,EAAYtB,EAAUG,GAAQ,OAAArB,OAAAC,EAAA,EAAAD,CAAAE,KAAAsC,GAAAC,EAAAf,KAAAxB,KACvBgB,EAAU,IAAKG,0BAFNJ,GAKXyB,oDACL,SAAAA,EAAYxB,EAAUG,GAAQ,OAAArB,OAAAC,EAAA,EAAAD,CAAAE,KAAAwC,GAAAC,EAAAjB,KAAAxB,KACvBgB,EAAU,KAAMG,0BAFPJ,GAMX2B,oDACL,SAAAA,EAAY1B,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAA0C,GAAAC,EAAAnB,KAAAxB,KAChBgB,EAAU,kCAFGD,GAMf6B,oDACL,SAAAA,EAAY5B,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAA4C,GAAAC,EAAArB,KAAAxB,KAChBgB,EAAU,sCAFMD,GAMlB+B,oDACL,SAAAA,EAAY9B,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAA8C,GAAAC,EAAAvB,KAAAxB,KAChBgB,EAAU,mCAFID,GAMhBiC,oDACL,SAAAA,EAAYhC,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAgD,GAAAC,EAAAzB,KAAAxB,KAChBgB,EAAU,uCAFOD,GAMnBmC,oDACL,SAAAA,EAAYlC,GAAsBlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAkD,GAAA,QAAAC,EAAA/B,UAAAC,OAAT+B,EAAQ,IAAAC,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAARF,EAAQE,EAAA,GAAAlC,UAAAkC,GAAA,OAAAC,EAAA/B,KAAAxB,KAC1BgB,EAAU,KAAM,KAAOoC,EAAOI,KAAK,QAAU,kDAGpD,WACC,SAAArD,OAAUH,KAAKgB,SAAf,KAAAb,OAA2BH,KAAKiB,kBAAhC,KAAAd,OAAqDH,KAAKmB,cAN3CJ,GChGX0C,oDACL,SAAAA,EAAYC,GAA2B,IAAAxC,EAEtC,GAFsCpB,OAAAC,EAAA,EAAAD,CAAAE,KAAAyD,GACtCvC,EAAAK,EAAAC,KAAAxB,OACIA,gBAAAyD,EAAAzD,KAAAC,iBAAA,KAAewD,EAClB,MAAM,IAAIvD,UAAU,qBAAsBF,gBAAAyD,EAAAzD,KAAAC,iBAAA,GAAWG,KAAO,uBAE7Dc,EAAKwC,gBAAkBA,EALe,QAAAP,EAAA/B,UAAAC,OAAPsC,EAAO,IAAAN,MAAAF,EAAA,EAAAA,EAAA,KAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAPK,EAAOL,EAAA,GAAAlC,UAAAkC,GAAA,OAMtCpC,EAAKyC,MAAQA,EANyBzC,8CASvC,WACC,MAAQ,IAAMlB,KAAK2D,MAAMC,IAAI,SAAAC,GAAI,OAAIA,EAAKC,aAAYN,KAAxC,IAAArD,OAAiDH,KAAK0D,gBAAtD,MAA4E,WAXrE7D,GAejBkE,oDACL,SAAAA,IAAuBjE,OAAAC,EAAA,EAAAD,CAAAE,KAAA+D,GAAA,QAAAC,EAAA5C,UAAAC,OAARsC,EAAO,IAAAN,MAAAW,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPN,EAAOM,GAAA7C,UAAA6C,GAAA,OAAApC,EAAAL,KAAA0C,MAAArC,EAAA,CAAA7B,KACf,OADeG,OACLwD,2BAFAF,GAMZU,oDACL,SAAAA,IAAuBrE,OAAAC,EAAA,EAAAD,CAAAE,KAAAmE,GAAA,QAAAC,EAAAhD,UAAAC,OAARsC,EAAO,IAAAN,MAAAe,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPV,EAAOU,GAAAjD,UAAAiD,GAAA,OAAAtC,EAAAP,KAAA0C,MAAAnC,EAAA,CAAA/B,KACf,MADeG,OACNwD,2BAFAF,GAMXa,oDACL,SAAAA,EAAYT,GACX,GADkB/D,OAAAC,EAAA,EAAAD,CAAAE,KAAAsE,KACZT,aAAgBJ,GAAYI,aAAgB9C,GACjD,MAAM,IAAIb,UAAJ,GAAAC,QAAiBH,gBAAAsE,EAAAtE,KAAAC,iBAAA,GAAWG,KAA5B,0DAFU,OAAA6B,EAAAT,KAAAxB,KAIX,MAAO6D,0BALGJ,GASZc,oDACL,SAAAA,EAAYV,GACX,GADkB/D,OAAAC,EAAA,EAAAD,CAAAE,KAAAuE,KACZV,aAAgBJ,GAAYI,aAAgB9C,GACjD,MAAM,IAAIb,UAAJ,GAAAC,QAAiBH,gBAAAuE,EAAAvE,KAAAC,iBAAA,GAAWG,KAA5B,0DAFU,OAAA+B,EAAAX,KAAAxB,KAIX,SAAU6D,0BALGJ,GCpCfhC,oDACL,SAAAA,EAAY+C,EAAiBxD,GAAU,IAAAE,EACtC,GADsCpB,OAAAC,EAAA,EAAAD,CAAAE,KAAAyB,IAClCzB,gBAAAyB,EAAAzB,KAAAC,iBAAA,KAAec,EAClB,MAAM,IAAIb,UAAU,qBAAsBF,gBAAAyB,EAAAzB,KAAAC,iBAAA,GAAWG,KAAO,uBAE7D,KAA0B,kBAAbY,GAAyBA,aAAoBU,QACzD,MAAM,IAAIxB,WAAUF,gBAAAyB,EAAAzB,KAAAC,iBAAA,GAAWG,KAAO,2CALD,OAOtCc,EAAAK,EAAAC,KAAAxB,OACKgB,SAAWA,EAChBE,EAAKsD,gBAAkBA,EATetD,8CAYvC,WACC,YAAsBI,IAAlBtB,KAAKgB,SACDhB,KAAKwE,gBAAkB,IAAMxE,KAAKgB,SAAW,IAE7ChB,KAAKwE,gBAAkB,YAjBV3E,GAuBjB4E,oDACL,SAAAA,EAAYzD,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAyE,GAAA5C,EAAAL,KAAAxB,KAChB,WAAYgB,0BAFGS,GAMjBiD,oDACL,SAAAA,EAAY1D,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAA0E,GAAA3C,EAAAP,KAAAxB,KAChB,UAAWgB,0BAFGS,GAMhBkD,oDACL,SAAAA,EAAY3D,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAA2E,GAAA1C,EAAAT,KAAAxB,KAChB,MAAOgB,0BAFGS,GAMZmD,oDACL,SAAAA,EAAY5D,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAA4E,GAAAzC,EAAAX,KAAAxB,KAChB,MAAOgB,0BAFGS,GAMZoD,oDACL,SAAAA,EAAY7D,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAA6E,GAAAxC,EAAAb,KAAAxB,KAChB,MAAOgB,0BAFGS,GAMZqD,oDACL,SAAAA,IAAe,OAAAhF,OAAAC,EAAA,EAAAD,CAAAE,KAAA8E,GAAAvC,EAAAf,KAAAxB,KACR,sCAFkByB,GAMpBsD,oDACL,SAAAA,IAAe,OAAAjF,OAAAC,EAAA,EAAAD,CAAAE,KAAA+E,GAAAtC,EAAAjB,KAAAxB,KACR,sCAFkByB,GAMpBuD,qDACL,SAAAA,IAAe,OAAAlF,OAAAC,EAAA,EAAAD,CAAAE,KAAAgF,GAAArC,EAAAnB,KAAAxB,KACR,4CAFuByB,GAMzBwD,qDACL,SAAAA,EAAYjE,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAiF,GAAApC,EAAArB,KAAAxB,KAChB,OAAQgB,0BAFGS,GAMbyD,qDACL,SAAAA,EAAYlE,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAkF,GAAAnC,EAAAvB,KAAAxB,KAChB,SAAUgB,0BAFGS,GAMf0D,qDACL,SAAAA,EAAYnE,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAmF,GAAAlC,EAAAzB,KAAAxB,KAChB,OAAQgB,0BAFGS,GAMb2D,qDACL,SAAAA,EAAYpE,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAoF,GAAA7B,EAAA/B,KAAAxB,KAChB,QAASgB,0BAFGS,GAMd4D,qDACL,SAAAA,EAAYrE,GAAW,OAAAlB,OAAAC,EAAA,EAAAD,CAAAE,KAAAqF,GAAAC,EAAA9D,KAAAxB,KAChB,QAASgB,0BAFGS,GAMd8D,qDACL,SAAAA,IAA2BzF,OAAAC,EAAA,EAAAD,CAAAE,KAAAuF,GAAA,QAAApC,EAAA/B,UAAAC,OAAZmE,EAAW,IAAAnC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAXkC,EAAWlC,GAAAlC,UAAAkC,GAAA,OAAAmC,EAAAjE,KAAAxB,KACnB,SAAU,KAAOwF,EAAUhC,KAAK,MAAQ,6BAF3B/B,GCpGRiE,GAAb,oBAAAA,IAAA5F,OAAAC,EAAA,EAAAD,CAAAE,KAAA0F,GAAA,OAAA5F,OAAA6F,EAAA,EAAA7F,CAAA4F,EAAA,OAAAE,IAAA,MAAAzE,MACC,WAAqB,QAAAgC,EAAA/B,UAAAC,OAAPsC,EAAO,IAAAN,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAPK,EAAOL,GAAAlC,UAAAkC,GACpB,OAAOxD,OAAA+F,EAAA,EAAA/F,CAAIiE,EAAOJ,KAFpB,CAAAiC,IAAA,KAAAzE,MAKC,WAAoB,QAAA6C,EAAA5C,UAAAC,OAAPsC,EAAO,IAAAN,MAAAW,GAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPN,EAAOM,GAAA7C,UAAA6C,GACnB,OAAOnE,OAAA+F,EAAA,EAAA/F,CAAIqE,EAAMR,KANnB,CAAAiC,IAAA,MAAAzE,MASC,SAAW0C,GACV,OAAO,IAAIS,EAAIT,KAVjB,CAAA+B,IAAA,SAAAzE,MAaC,SAAc0C,GACb,OAAO/D,OAAA+F,EAAA,EAAA/F,CAAIyE,EAAXzE,OAAAgG,EAAA,EAAAhG,CAAqB+D,MAdvB,CAAA+B,IAAA,OAAAzE,MAiBC,SAAYH,EAAUG,GACrB,OAAO,IAAIS,EAAKZ,EAAUG,KAlB5B,CAAAyE,IAAA,QAAAzE,MAqBC,SAAaH,EAAUG,GACtB,OAAO,IAAIW,EAAMd,EAAUG,KAtB7B,CAAAyE,IAAA,WAAAzE,MAyBC,SAAgBH,EAAUG,GACzB,OAAO,IAAIa,EAAShB,EAAUG,KA1BhC,CAAAyE,IAAA,KAAAzE,MA6BC,SAAUH,EAAUG,GACnB,OAAO,IAAIe,EAAGlB,EAAUG,KA9B1B,CAAAyE,IAAA,KAAAzE,MAiCC,SAAUH,EAAUG,GACnB,OAAO,IAAIiB,EAAGpB,EAAUG,KAlC1B,CAAAyE,IAAA,KAAAzE,MAqCC,SAAUH,EAAUG,GACnB,OAAO,IAAImB,EAAGtB,EAAUG,KAtC1B,CAAAyE,IAAA,KAAAzE,MAyCC,SAAUH,EAAUG,GACnB,OAAO,IAAIqB,EAAGxB,EAAUG,KA1C1B,CAAAyE,IAAA,SAAAzE,MA6CC,SAAcH,EAAUG,GACvB,OAAO,IAAIuB,EAAO1B,EAAUG,KA9C9B,CAAAyE,IAAA,YAAAzE,MAiDC,SAAiBH,EAAUG,GAC1B,OAAO,IAAIyB,EAAU5B,EAAUG,KAlDjC,CAAAyE,IAAA,UAAAzE,MAqDC,SAAeH,EAAUG,GACxB,OAAO,IAAI2B,EAAQ9B,EAAUG,KAtD/B,CAAAyE,IAAA,aAAAzE,MAyDC,SAAkBH,EAAUG,GAC3B,OAAO,IAAI6B,EAAWhC,EAAUG,KA1DlC,CAAAyE,IAAA,KAAAzE,MA6DC,SAAUH,GAAoB,QAAAoD,EAAAhD,UAAAC,OAAPF,EAAO,IAAAkC,MAAAe,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAPlD,EAAOkD,EAAA,GAAAjD,UAAAiD,GAC7B,OAAOvE,OAAA+F,EAAA,EAAA/F,CAAIoD,EAAX,CAAclC,GAAdb,OAA2BgB,MA9D7B,CAAAyE,IAAA,WAAAzE,MAiEC,SAAgBH,GACf,OAAO,IAAIyD,EAASzD,KAlEtB,CAAA4E,IAAA,UAAAzE,MAqEC,SAAeH,GACd,OAAO,IAAI0D,EAAQ1D,KAtErB,CAAA4E,IAAA,MAAAzE,MAyEC,SAAWH,GACV,OAAO,IAAI2D,EAAI3D,KA1EjB,CAAA4E,IAAA,MAAAzE,MA6EC,SAAWH,GACV,OAAO,IAAI4D,EAAI5D,KA9EjB,CAAA4E,IAAA,MAAAzE,MAiFC,SAAWH,GACV,OAAO,IAAI6D,EAAI7D,KAlFjB,CAAA4E,IAAA,cAAAzE,MAqFC,SAAmBH,GAClB,OAAO,IAAI8D,EAAY9D,KAtFzB,CAAA4E,IAAA,cAAAzE,MAyFC,SAAmBH,GAClB,OAAO,IAAI+D,EAAY/D,KA1FzB,CAAA4E,IAAA,mBAAAzE,MA6FC,SAAwBH,GACvB,OAAO,IAAIgE,GAAiBhE,KA9F9B,CAAA4E,IAAA,OAAAzE,MAiGC,SAAYH,GACX,OAAO,IAAIiE,GAAKjE,KAlGlB,CAAA4E,IAAA,SAAAzE,MAqGC,SAAcH,GACb,OAAO,IAAIkE,GAAOlE,KAtGpB,CAAA4E,IAAA,OAAAzE,MAyGC,SAAYH,GACX,OAAO,IAAImE,GAAKnE,KA1GlB,CAAA4E,IAAA,QAAAzE,MA6GC,SAAaH,GACZ,OAAO,IAAIoE,GAAMpE,KA9GnB,CAAA4E,IAAA,QAAAzE,MAiHC,SAAaH,GACZ,OAAO,IAAIqE,GAAMrE,KAlHnB,CAAA4E,IAAA,SAAAzE,MAqHC,SAAcH,GACb,OAAO,IAAIuE,GAAOvE,OAtHpB0E,EAAA,GCHA,SAASK,GAAMC,GACb,MAAoB,kBAANA,IACX3C,MAAM4C,QAAQD,IACT,OAANA,qxMCGJE,IAAMC,SAASC,QAAU,SAGzBF,IAAMG,aAAaC,SAASC,IAAI,SAAUC,GACxC,GAAe,KAAZA,EAAIC,OAEH,OADAC,IAAQC,MAAMH,EAAII,YACXC,QAAQC,OAAON,EAAII,YAG9B,GAAIb,GAAMS,IAAQ,SAAUA,GAAOT,GAAMS,EAAIO,OAAS,SAAUP,EAAIO,KAAM,CACxE,GAAsB,IAAlBP,EAAIO,KAAKC,KAEX,OAAOR,EAAIO,KAEX,IAAKE,EAAU,GASf,MARG,SAAUT,EAAIO,KAEfE,EAAS5D,MAAM4C,QAAQO,EAAIO,KAAKA,MAAQP,EAAIO,KAAKA,KAAKvD,KAAK,KAAOgD,EAAIO,KAAKA,KACpE,YAAaP,EAAIO,OAExBE,EAAST,EAAIO,KAAKL,SAEpBA,IAAQC,MAAMM,GACPJ,QAAQC,OAAOG,GAIxB,OAAOT,GAER,SAAUG,GAAO,IAAAO,EAAAC,EAAAC,EAAAC,EAIlB,OAHAX,IAAQC,MAAR,OAAcA,QAAd,IAAcA,OAAd,UAAAO,EAAcP,EAAOL,gBAArB,IAAAY,OAAA,UAAAC,EAAcD,EAAiBH,YAA/B,IAAAI,OAAA,EAAcA,EAAuBR,OAG9BE,QAAQC,OAAR,OAAeH,QAAf,IAAeA,OAAf,UAAAS,EAAeT,EAAOL,gBAAtB,IAAAc,OAAA,UAAAC,EAAeD,EAAiBL,YAAhC,IAAAM,OAAA,EAAeA,EAAuBV,SAE/C,IAAMW,GAAe,eAAAC,EAAAzH,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAA,OAAAJ,KAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACN/B,IAAMgC,KAAN,aAAyBN,GAAY,IAD/B,cAClBC,EADkBE,EAAAI,KAAAJ,EAAAK,OAAA,SAGfP,EAAId,MAHW,wBAAAgB,EAAAM,SAAAV,MAAH,gBAAAW,GAAA,OAAAf,EAAArD,MAAAlE,KAAAoB,YAAA,GAyINmH,GAAA,CACbC,qBArIwB,eAAAC,EAAA3I,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAAgB,EAAOC,GAAP,IAAAd,EAAA,OAAAJ,KAAAK,KAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,EACT/B,IAAM2C,IAAN,8BAAA1I,OAAwCwI,IAD/B,cACrBd,EADqBe,EAAAT,KAAAS,EAAAR,OAAA,SAEpBP,EAAId,MAFgB,wBAAA6B,EAAAP,SAAAK,MAAH,gBAAAI,GAAA,OAAAL,EAAAvE,MAAAlE,KAAAoB,YAAA,GAsIxB2H,aAjIgB,eAAAC,EAAAlJ,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAAuB,EAAON,EAAYO,GAAnB,IAAArB,EAAA,OAAAJ,KAAAK,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,cAAAkB,EAAAlB,KAAA,EACD/B,IAAM2C,IAAN,sBAAA1I,OAAgCwI,EAAhC,QAAAxI,OAAiD+I,IADhD,cACbrB,EADasB,EAAAhB,KAAAgB,EAAAf,OAAA,SAEZP,EAAId,MAFQ,wBAAAoC,EAAAd,SAAAY,MAAH,gBAAAG,EAAAC,GAAA,OAAAL,EAAA9E,MAAAlE,KAAAoB,YAAA,GAkIhBkI,gBA7HmB,eAAAC,EAAAzJ,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAA8B,EAAOb,EAAYO,EAAIO,GAAvB,IAAA5B,EAAA,OAAAJ,KAAAK,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAAzB,KAAA,EACN/B,IAAMgC,KAAN,aAAyB,CAACS,aAAYO,OADhC,cAClBrB,EADkB6B,EAAAvB,KAEtBsB,GAAcA,IAFQC,EAAAtB,OAAA,SAGfP,EAAId,MAHW,wBAAA2C,EAAArB,SAAAmB,MAAH,gBAAAG,EAAAC,EAAAC,GAAA,OAAAN,EAAArF,MAAAlE,KAAAoB,YAAA,GA8HnB0I,iBAzHoB,eAAAC,EAAAjK,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAAsC,EAAOpC,EAAU6B,GAAjB,IAAA5B,EAAA,OAAAJ,KAAAK,KAAA,SAAAmC,GAAA,cAAAA,EAAAjC,KAAAiC,EAAAhC,MAAA,cACjBJ,EAAM3B,IAAMgC,KAAK,cAAeN,GACtC6B,GAAcA,IAFSQ,EAAA7B,OAAA,SAGhBP,EAAId,MAHY,wBAAAkD,EAAA5B,SAAA2B,MAAH,gBAAAE,EAAAC,GAAA,OAAAJ,EAAA7F,MAAAlE,KAAAoB,YAAA,GA0HpBgJ,YAnHe,eAAAC,EAAAvK,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAA4C,EAAO3B,EAAYvF,EAAQqG,GAA3B,IAAA5B,EAAA,OAAAJ,KAAAK,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAAAsC,EAAAtC,KAAA,EACA/B,IAAMgC,KAAN,qBAAA/H,OAAgCwI,GAAhC7I,OAAA0K,EAAA,EAAA1K,CAAA,GACbsD,IAFa,cACZyE,EADY0C,EAAApC,KAIlBsB,GAAcA,IAJIc,EAAAnC,OAAA,SAKXP,EAAId,MALO,wBAAAwD,EAAAlC,SAAAiC,MAAH,gBAAAG,EAAAC,EAAAC,GAAA,OAAAN,EAAAnG,MAAAlE,KAAAoB,YAAA,GAoHfwJ,YA7Ge,eAAAC,EAAA/K,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAAoD,EAAOnC,EAAYf,EAAU6B,GAA7B,IAAA5B,EAAA,OAAAJ,KAAAK,KAAA,SAAAiD,GAAA,cAAAA,EAAA/C,KAAA+C,EAAA9C,MAAA,cAAA8C,EAAA9C,KAAA,EACA/B,IAAMgC,KAAN,qBAAA/H,OAAgCwI,GAAcf,GAD9C,cACZC,EADYkD,EAAA5C,KAElBsB,GAAcA,IAFIsB,EAAA3C,OAAA,SAGXP,EAAId,MAHO,wBAAAgE,EAAA1C,SAAAyC,MAAH,gBAAAE,EAAAC,EAAAC,GAAA,OAAAL,EAAA3G,MAAAlE,KAAAoB,YAAA,GA8GfkG,mBACA6D,YA1Ge,eAAAC,EAAAtL,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAA2D,EAAOzD,EAAU6B,GAAjB,IAAA5B,EAAA,OAAAJ,KAAAK,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,cAAAqD,EAAArD,KAAA,EACA/B,IAAMgC,KAAN,SAAqBN,GADrB,cACZC,EADYyD,EAAAnD,KAElBsB,GAAcA,IAFI6B,EAAAlD,OAAA,SAGXP,EAAId,MAHO,wBAAAuE,EAAAjD,SAAAgD,MAAH,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAlH,MAAAlE,KAAAoB,YAAA,GA2GfqK,sBArGyB,eAAAC,EAAA5L,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAAiE,EAAO/D,EAAU6B,GAAjB,IAAA5B,EAAA,OAAAJ,KAAAK,KAAA,SAAA8D,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,cAAA2D,EAAA3D,KAAA,EACV/B,IAAMgC,KAAN,mBAA+BN,GADrB,cACtBC,EADsB+D,EAAAzD,KAE5BsB,GAAcA,IAFcmC,EAAAxD,OAAA,SAGrBP,EAAId,MAHiB,wBAAA6E,EAAAvD,SAAAsD,MAAH,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAxH,MAAAlE,KAAAoB,YAAA,GAsGzB2K,gBAjGsB,eAAAC,EAAAlM,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAAuE,EAAOtD,EAAYuD,EAAQzC,GAA3B,IAAA5B,EAAA,OAAAJ,KAAAK,KAAA,SAAAqE,GAAA,cAAAA,EAAAnE,KAAAmE,EAAAlE,MAAA,cAAAkE,EAAAlE,KAAA,EACP/B,IAAMgC,KAAN,2BAAA/H,OAAsCwI,GAAc,CAACuD,WAD9C,cACnBrE,EADmBsE,EAAAhE,KAEzBsB,GAAcA,IAFW0C,EAAA/D,OAAA,SAGlBP,EAAId,MAHc,wBAAAoF,EAAA9D,SAAA4D,MAAH,gBAAAG,EAAAC,EAAAC,GAAA,OAAAN,EAAA9H,MAAAlE,KAAAoB,YAAA,GAkGtBmL,YA7FiB,eAAAC,EAAA1M,OAAA0H,EAAA,EAAA1H,CAAA2H,KAAAC,KAAG,SAAA+E,EAAO9D,EAAY+D,GAAnB,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAvF,EAAAwF,EAAAjM,UAAA,OAAAqG,KAAAK,KAAA,SAAAwF,GAAA,cAAAA,EAAAtF,KAAAsF,EAAArF,MAAA,cAAiC0E,EAAjCU,EAAAhM,OAAA,QAAAC,IAAA+L,EAAA,GAAAA,EAAA,GAA0C,GAAIT,EAA9CS,EAAAhM,OAAA,EAAAgM,EAAA,QAAA/L,EAAA+L,EAAAhM,OAAA,EAAAgM,EAAA,QAAA/L,EAAA+L,EAAAhM,OAAA,EAAAgM,EAAA,QAAA/L,EAEpBqL,EAAOY,WAAaZ,EAAOa,eACpBb,EAAM,eAGTE,EAAY/M,OAAO2N,OAAO,GAAId,IAClB,kBACTE,EAAS,SAGVC,EAAUhN,OAAO4N,QAAQf,GAC5BT,OAAO,SAAAyB,GAAkB,IAAAC,EAAA9N,OAAA+N,EAAA,EAAA/N,CAAA6N,EAAA,GAAhB/H,EAAgBgI,EAAA,GAAXzM,EAAWyM,EAAA,GACxB,MAAe,eAARhI,GAAgC,aAARA,GAAsBzE,IAItDyC,IAAI,SAAAkK,GAAkB,IAAAC,EAAAjO,OAAA+N,EAAA,EAAA/N,CAAAgO,EAAA,GAAhBlI,EAAgBmI,EAAA,GAAX5M,EAAW4M,EAAA,GACrB,GAAI1K,MAAM4C,QAAQ9E,GAAQ,CACxB,IAAI6M,EAAStB,EAAa9G,GAC1B,GAAoC,kBAAhCoI,EAAOC,WAAWC,WACe,cAAhCF,EAAOC,WAAWC,WACc,cAAhCF,EAAOC,WAAWC,UAErB,OAAOC,GAAKC,IAAID,GAAKE,GAAGzI,EAAKzE,EAAM,IAAKgN,GAAKG,GAAG1I,EAAKzE,EAAM,KAE3D,MAAM,IAAIoN,MAAM,sBAEb,MAAsB,iBAAVpN,EACbA,EAAME,OAAS,EACV8M,GAAKK,KAAK5I,EAAV,GAAAzF,OAAkBgB,IACpB,KAEH4E,GAAM5E,GAEDrB,OAAO4N,QAAQvM,GAAOyC,IAAI,SAAA6K,GAAA,IAAAC,EAAA5O,OAAA+N,EAAA,EAAA/N,CAAA2O,EAAA,GAAEE,EAAFD,EAAA,GAAKE,EAALF,EAAA,UAAYP,GAAKU,MAAMjJ,EAAM,IAAM+I,EAAGC,KAGhET,GAAKU,MAAMjJ,EAAX,GAAAzF,OAAmBgB,MAM9B4L,EAAe,GAID,QAFdC,EAAYmB,GAAKC,IAALlK,MAAAiK,GAAIrO,OAAAgG,EAAA,EAAAhG,CAAQgN,IAAShJ,cAEZiJ,EAAe,CAACb,OAAQc,IAI7CC,EAAYnN,OAAO4N,QAAQd,GAC5BhJ,IAAI,SAAAgL,GACH,IAAIE,EAAQ,OAGZ,MAFa,WAATF,EAAE,KACJE,EAAQ,OACHF,EAAE,GAAK,IAAME,IAErBtL,KAAK,KACJ0J,EAAa,GACbD,EAAU5L,SACZ6L,EAAU,SAAA/M,OAAY8M,IAGlBE,EAjEc,SAAAhN,OAiEOwM,EAAOoC,SAjEd,UAAA5O,OAiE+BwM,EAAOY,WAAa,GAEnEH,EAnEgB,uBAAAjN,OAmEawI,GAnEbxI,OAmE0BgN,GAnE1BhN,OAmEsC+M,GAnEtCI,EAAArF,KAAA,GAsEJ/B,IAAMgC,KAAKkF,EAAXtN,OAAA0K,EAAA,EAAA1K,CAAA,GAAoBiN,IAtEhB,eAsEhBlF,EAtEgByF,EAAAnF,KAAAmF,EAAAlF,OAAA,SAuEb,IAAIvB,QACT,SAACmI,EAASlI,GACRkI,EAAQ,CACNjI,KAAMc,EAAId,KACVkI,MAAOpH,EAAIqH,KAAKC,WAAatH,EAAIqH,KAAKH,SACtCK,SAAS,OA5EK,yBAAA9B,EAAAjF,SAAAoE,MAAH,gBAAA4C,EAAAC,GAAA,OAAA9C,EAAAtI,MAAAlE,KAAAoB,YAAA,cCjGJmO,GAAA,CACbC,KAAM,OACNC,UAAW,YACXC,SAAU,WACVC,UAAW,YACXC,WAAY,cCFCC,GAAA,CACbC,MAAO,SAACC,EAAOC,EAAKC,GAClB,GAAU,MAAPA,EAIH,OAAIlK,GAAMkK,IACRC,QAAQC,OAAOF,EAAM/G,GAAG,wBAAS+G,GAC1BG,EAAAC,EAAAC,cAACC,GAAD,CAAU3K,IAAKoK,EAAMC,EAAM/G,GAAI6G,MAAOA,EAAO7G,GAAI+G,EAAM/G,GAAI8G,IAAKA,EAAK5P,KAAI,OAAE6P,QAAF,IAAEA,OAAF,EAAEA,EAAO7P,SAGzF8P,QAAQC,OAAOF,EAAM,wBAASA,GACvBG,EAAAC,EAAAC,cAACC,GAAD,CAAU3K,IAAKoK,EAAMC,EAAOF,MAAOA,EAAO7G,GAAI+G,EAAOD,IAAKA,MAGrEQ,SAAU,SAACT,EAAOC,EAAKC,GACrB,GAAU,MAAPA,EAIH,OAAIlK,GAAMkK,IAERC,QAAQC,OAAOF,EAAM/G,GAAG,wBAAS+G,GAC1BG,EAAAC,EAAAC,cAACC,GAAD,CAAU3K,IAAKoK,EAAMC,EAAM/G,GAAI6G,MAAOA,EAAO7G,GAAI+G,EAAM/G,GAAI8G,IAAKA,EAAK5P,KAAI,OAAE6P,QAAF,IAAEA,OAAF,EAAEA,EAAO7P,SAIzF8P,QAAQC,OAAOF,EAAM,wBAASA,GACvBG,EAAAC,EAAAC,cAACC,GAAD,CAAU3K,IAAKoK,EAAMC,EAAOF,MAAOA,EAAO7G,GAAI+G,EAAOD,IAAKA,0xMCrBxD,IAAAO,GAAA,SAAAhJ,GAAkC,IAAvBwI,EAAuBxI,EAAvBwI,MAAOC,EAAgBzI,EAAhByI,IAAK9G,EAAW3B,EAAX2B,GAAI9I,EAAOmH,EAAPnH,KACxCqQ,EAA8BC,mBAAS,IAAvCC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAKG,EAALD,EAAA,GAAeE,EAAfF,EAAA,GAEY,MAARvQ,IAAcA,EAAO8I,GACzB,IAAA4H,EAAwBJ,oBAAS,GAAjCK,EAAAjR,OAAA+N,EAAA,EAAA/N,CAAAgR,EAAA,GAAOE,EAAPD,EAAA,GAAaE,EAAbF,EAAA,GAkCA,OAhCAG,oBACE,WACEF,GAAQlR,OAAA0H,EAAA,EAAA1H,CAAAqR,KAAAzJ,KAAC,SAAAC,IAAA,IAAAyJ,EAAArK,EAAA,OAAAoK,KAAArJ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACaM,GAAQC,qBAAqBwH,GAD1C,cACHoB,EADGrJ,EAAAI,KAAAJ,EAAAE,KAAA,EAEUM,GAAQQ,aAAaiH,EAAK9G,GAFpC,OAEHnC,EAFGgB,EAAAI,KAGPiJ,EAAUA,EAAQxN,IAAI,SAAAyN,GACpB,IAAOC,EAAoDD,EAApDC,SAAsBC,EAA8BF,EAA1CG,WAAsBzB,GAAoBsB,EAAxBnI,GAAwBmI,EAApBtB,OAAO0B,EAAaJ,EAAbI,UAC9C,GAAIH,IAAaI,GAAOlC,KACtB6B,EAAEM,aAAe5K,EAAKsK,EAAEzL,UAGrB,GAAI0L,IAAaI,GAAOhC,UAAY4B,IAAaI,GAAOjC,UAAW,KAAAmC,EACtEP,EAAEM,aAAe9B,GAAaW,SAAST,EAAOwB,EAA7B,QAAAK,EAAmC7K,EAAK0K,UAAxC,IAAAG,OAAA,EAAmCA,EAAiB1I,SAElE,GAAIoI,IAAaI,GAAO/B,WAAa2B,IAAaI,GAAO9B,WAAY,KAAAiC,EACxER,EAAEM,aAAevB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyB,SAAA,aAAAD,EAEb9K,EAAK0K,UAFQ,IAAAI,OAAA,EAEbA,EAAiBjO,IAAI,SAAAmO,GAAM,OAAOlC,GAAaW,SAAST,EAAOwB,EAAMQ,MAQ3E,OAAOV,IACNzE,KAAK,SAACyD,EAAG2B,GAAJ,OAAU3B,EAAE4B,MAAQD,EAAEC,QAC9BpB,EAAYO,GAzBL,wBAAArJ,EAAAM,SAAAV,KAAD7H,IA4BR,CAACkR,EAAMhB,EAAK9G,IAETkH,EAAAC,EAAAC,cAAC4B,GAAA,EAAD,CACLnC,MAAOA,EAAQ,IAAM7G,EACrBiJ,UAAU,EACVC,OAAQ,SAAAC,GAAC,OAAIpB,GAAQ,IACrBqB,QAASlC,EAAAC,EAAAC,cAAA,KAAGiC,KAAK,MAAR,IAAenS,EAAf,KACToS,WAAW,YACXC,QAAS7B,EACT8B,qBAAmB,EACnBC,cAAe,IACfC,SAAU,CAACC,OAAQ,CAAC,GAAI,KACxBC,SAAU,CAACC,KAAM,IACjBC,MAAM,EACNC,SAAU,SAAArE,GAAMqC,GAAQ,oCC5DbiC,GAAA,CAEbC,SAAU,WAEVC,MAAO,QAEPC,SAAU,WAEVC,KAAM,OAENC,SAAU,WAEVC,SAAU,WAEVC,UAAW,YAEXC,YAAa,cAEbC,SAAU,WAEVC,UAAW,YAEXC,cAAe,gBAEfC,KAAM,OAENC,UAAW,YAEXC,KAAM,OAENC,SAAU,WAEVC,OAAQ,SACRC,oBAAoB,sBACpBC,gBAAgB,kBAEhBC,YAAY,cAEZC,WAAY,aAEZC,aAAc,eAEdC,SAAU,WAEVC,KAAM,OAENC,MAAO,QAEPC,YAAa,cAEbC,SAAU,WAEVC,QAAS,UAETC,MAAO,QAEPC,QAAS,UAETC,OAAQ,SAERC,OAAQ,SAERjO,KAAM,OAENkO,OAAU,SAEVC,QAAS,UAETC,MAAO,QAEPC,SAAU,WAEVC,MAAO,QAEPC,SAAU,WAGVC,cAAe,gBAEfC,MAAO,QACPC,SAAU,WACVC,MAAO,qCC9DM,IAAAC,GAAA,CACbC,UAdF,SAAmBC,GACjB,IAAArF,EAA0BC,mBAASoF,EAAM3U,OAAS,IAAlDwP,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAOtP,EAAPwP,EAAA,GAAcoF,EAAdpF,EAAA,GACIqF,EAAcC,sBAAY,SAAC9U,GAC7B4U,EAAS5U,GACT2U,EAAMI,UAAYJ,EAAMI,SAAS/U,IAChC,CAAC2U,EAAMI,WACV,OAAO9F,EAAAC,EAAAC,cAAC6F,GAAA9F,EAAD,CAAY+F,OAAQ,SAAA/D,KACxBgE,MAAM,OAAOlV,MAAOA,EAAO+U,SAAU,SAAAtH,GAAC,OAAIoH,EAAYpH,OAQzD0H,aALF,SAAsBR,GACpB,OAAO1F,EAAAC,EAAAC,cAAA,OAAKiG,wBAAyB,CAACC,OAAQV,EAAM3U,UAKpDsV,WAAY,KACZC,SAAU,myMCnBZ,IAWMD,GAAa,SAACX,GAClB,IAAOtE,EAAsCsE,EAAtCtE,WAAYmF,EAA0Bb,EAA1Ba,YAAYC,EAAcd,EAAdc,WAC/BnG,EAA8BC,mBAAS,IAAvCC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAOoG,EAAPlG,EAAA,GAAgBmG,EAAhBnG,EAAA,GAEMoG,EAAO,eAAAxP,EAAAzH,OAAA0H,EAAA,EAAA1H,CAAAkX,KAAAtP,KAAG,SAAAC,EAAOuB,GAAP,IAAAnC,EAAA,OAAAiQ,KAAAlP,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACVlB,EAAO,GACD,MAANmC,EAFU,CAAAnB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAGCM,GAAQwD,gBAAgByF,EAAY,mBAHrC,OAIZzK,GADAA,EAHYgB,EAAAI,MAIA,GAJAJ,EAAAE,KAAA,uBAAAF,EAAAE,KAAA,GAMCM,GAAQQ,aAAayI,EAAYtI,GANlC,QAMZnC,EANYgB,EAAAI,KAAA,eAAAJ,EAAAK,OAAA,SAQPrB,GAvBUkQ,EAuBSlQ,EAAK4P,GAvBVO,EAuBwBP,EAtB3CM,EACQE,KAAKC,MAAMD,KAAKE,UAAUJ,GACjCK,WAAW,UAAa,YACxBA,WAAW,QAAW,YACtBA,WAAW,IAAOJ,EAAa,KAAO,gBAIpCD,GAcuD,IAR9C,yBAAAlP,EAAAM,OAfE,IAAC4O,EAAIC,GAePvP,MAAH,gBAAAW,GAAA,OAAAf,EAAArD,MAAAlE,KAAAoB,YAAA,GAUb8P,oBAAU,WACRpR,OAAA0H,EAAA,EAAA1H,CAAAkX,KAAAtP,KAAC,SAAAgB,IAAA,IAAA2I,EAAA,OAAA2F,KAAAlP,KAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,EACe8O,EAAQ,MADvB,OACK1F,EADLzI,EAAAT,KAEC2O,EAAWzF,GAFZ,wBAAAzI,EAAAP,SAAAK,KAAD5I,IAIC,IAEH,IAIMyX,EAAQ,eAAAvO,EAAAlJ,OAAA0H,EAAA,EAAA1H,CAAAkX,KAAAtP,KAAG,SAAAuB,EAAOuO,GAAP,IAAAC,EAAAvO,EAAAmI,EAAA,OAAA2F,KAAAlP,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,cACTwP,EAAeD,EAAgBA,EAAgBnW,OAAS,IACjDqW,SAAU,EACnBxO,EAAKuO,EAAatW,MAHPgI,EAAAlB,KAAA,EAID8O,EAAQ7N,GAJP,OAIXmI,EAJWlI,EAAAhB,KAKfsP,EAAaE,SAAWtG,EACxBoG,EAAaC,SAAU,EACvBZ,EAAWhX,OAAAgG,EAAA,EAAAhG,CAAI+W,IAPA,wBAAA1N,EAAAd,SAAAY,MAAH,gBAAAH,GAAA,OAAAE,EAAA9E,MAAAlE,KAAAoB,YAAA,GAUd,OAAOgP,EAAAC,EAAAC,cAACiF,GAAA,EAAD,CAAUsB,QAASA,EAASU,SAAUA,EAAUrB,SAdtC,SAAC0B,EAAaC,GAC7BjB,EAAWgB,EAAaC,IAaiDC,gBAAc,KAI5EC,GAAA,CACblC,UAAWY,GACXH,aAAc,KACdG,cACAC,SAAU,uzMCrDZ,ICgDA,IAAMsB,GAAe,CACnBC,OAAQ,QACR3C,MAAO,OACP4C,WAAY,QACZC,UAAW,SACXC,WAAY,WAmBC5C,GAAA,CACbK,UA1EF,SAAmBC,GACjB,IAAArF,EAAgCC,mBAAS,IAAzCC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAO4H,EAAP1H,EAAA,GAAiB2H,EAAjB3H,EAAA,GAcM4H,EAAS,eAAA9P,EAAA3I,OAAA0H,EAAA,EAAA1H,CAAA0Y,KAAA9Q,KAAG,SAAAC,EAAO8Q,GAAP,IAAAC,EAAAtD,EAAAuD,EAAA,OAAAH,KAAA1Q,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACZyQ,EAAMD,EAAKrL,IADC,CAAArF,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAIF,IAAIpB,QAAQ,SAACmI,GACvB,IAAM4J,EAAS,IAAIC,WACnBD,EAAOE,cAAcL,EAAKM,eAE1BH,EAAOI,OAAS,kBAAMhK,EAAQ4J,EAAOK,WARzB,OAIdP,EAJc3Q,EAAAI,KAAA,QAYViN,EAAQ,IAAI8D,OACZR,IAAMA,EAbI,QAcVC,EAAYQ,OAAOC,KAAKV,UAdd,IAeNC,KAAWU,SAASC,MAAMlE,EAAMmE,WAf1B,wBAAAxR,EAAAM,SAAAV,MAAH,gBAAAW,GAAA,OAAAG,EAAAvE,MAAAlE,KAAAoB,YAAA,GAkBf,OACEgP,EAAAC,EAAAC,cAACkJ,GAAA,EAAD,CAASC,QAAM,EAACC,UAAQ,GACtBtJ,EAAAC,EAAAC,cAACqJ,GAAA,EAAD,CACEC,OAAO,oCACPC,SAAS,eACTxB,SAAUA,EACVnC,SA7BW,SAAA3O,GAA6B,IAAjBuS,EAAiBvS,EAA3B8Q,SACjBnI,QAAQ6J,IAAID,GACZxB,EAAYwB,IA4BRvB,UAAWA,GAEVF,EAAShX,OAAS,GAAK,cAiC9BiV,aAlBmB,kBACnBlG,EAAAC,EAAAC,cAAC0J,GAAA,EAAD,CAAUC,UAAQ,GAChB7J,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAI4J,MAAOlC,IAAX,MAEF5H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAI4J,MAAOlC,IAAX,MAEF5H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAI4J,MAAOlC,IAAX,MAEF5H,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAI4J,MAAOlC,IAAX,QAOJvB,WAAY,KACZC,SAAU,gBD7ENG,GAAU,GACPsD,GAAI,GAAIA,GAAI,GAAIA,KACvBtD,GAAQuD,KAAK,CACXjZ,MAAOgZ,GAAErW,SAAS,IAAMqW,GACxBE,MAAOF,GAAErW,SAAS,IAAMqW,KAG5B,IAGM1D,GAAa,SAACX,GAElB,IAAArF,EAA0BC,mBAAS,IAAnCC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAOtP,EAAPwP,EAAA,GAAcoF,EAAdpF,EAAA,GAEI2J,EAAKrE,sBAAY,SAAC5D,GACpB,IAAIhC,EAAIgC,EAELyD,EAAMyE,MACJzE,EAAMyE,KAAOlI,EAAEhR,SAGhBgP,EAAIA,EAAEmK,OAAOnK,EAAEhP,OAAOyU,EAAMyE,KAAKzE,EAAMyE,OAGzCxE,EAAS1F,GACTyF,EAAM2E,aAAapK,KAEvB,OAASD,EAAAC,EAAAC,cAACoK,GAAA,EAAD,CACPC,KAAK,OACLT,MAAO,CACLU,MAAO,QAETzZ,MAAOA,EACP0Z,YAAY,EACZC,gBAAiB,CAAC,KAClBC,YAAajF,EAAMiF,YACnB7E,SAAUoE,EACVzD,QAASf,EAAMe,WAKJxC,GACFoC,uEE5Cb,SAASuE,GAATzT,GAA2E,IAAjD0T,EAAiD1T,EAAjD0T,aAAiDC,EAAA3T,EAAnC4T,uBAAmC,IAAAD,EAAjB,IAAiBA,EAATpF,EAAShW,OAAAsb,EAAA,EAAAtb,CAAAyH,EAAA8T,IACzE5K,EAAgCC,oBAAS,GAAzCC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAO6K,EAAP3K,EAAA,GAAiB4K,EAAjB5K,EAAA,GACAG,EAA8BJ,mBAAS,IAAvCK,EAAAjR,OAAA+N,EAAA,EAAA/N,CAAAgR,EAAA,GAAO+F,EAAP9F,EAAA,GAAgB+F,EAAhB/F,EAAA,GACAyK,EAA8B9K,oBAAS,GAAvC+K,EAAA3b,OAAA+N,EAAA,EAAA/N,CAAA0b,EAAA,GAAO9D,EAAP+D,EAAA,GAAgBC,EAAhBD,EAAA,GAEME,EAAWC,iBAAO,GAClBC,EAAkBC,kBAAQ,WAC9BhF,EAAW,IAiBX,OAAOiF,KAhBa,SAAC5a,GACnBwa,EAASnO,SAAW,EACpB,IAAMwO,EAAUL,EAASnO,QAEzB+N,GAAY,GACZG,GAAW,GACXT,EAAa9Z,GAAO8a,KAAK,SAACC,GACxBR,GAAW,GACPM,IAAYL,EAASnO,UAIzBsJ,EAAWoF,GACXX,GAAY,OAGaJ,IAC5B,CAACF,EAAcE,IAClB,OACE/K,EAAAC,EAAAC,cAACoK,GAAA,EAAD5a,OAAA2N,OAAA,CACE0O,cAAY,EACZC,WAAS,EACT1E,QAASA,EACT2E,QAASR,EACTS,cAAc,EACdC,SAAUV,EACVW,gBAAiBlB,EAAWlL,EAAAC,EAAAC,cAACmM,GAAA,EAAD,CAAMlC,KAAK,UAAa,MAChDzE,EARN,CASEe,QAASA,KAOf,IAAMJ,GAAa,SAACX,GAClB,IAAA4G,EAA0BhM,mBAASoF,EAAM3U,OAAS,IAAlDwb,EAAA7c,OAAA+N,EAAA,EAAA/N,CAAA4c,EAAA,GAAOvb,EAAPwb,EAAA,GAAc5G,EAAd4G,EAAA,GACIC,EAAM3G,sBAAY,SAAC5D,GACvB,IAAIhC,EAAIgC,EAELyD,EAAMyE,MACJzE,EAAMyE,KAAOlI,EAAEhR,SAGhBgP,EAAIA,EAAEmK,OAAOnK,EAAEhP,OAAOyU,EAAMyE,KAAKzE,EAAMyE,OAGzCxE,EAAS1F,GACTyF,EAAMI,SAAS7F,KAGjB,OACED,EAAAC,EAAAC,cAAC0K,GAAD,CACEL,KAAK,OACLxZ,MAAOA,EACP4Z,YAAY,eACZE,aAAcnF,EAAMmF,aACpB/E,SAAU0G,EACV1C,MAAO,CACLU,MAAO,WAMAxG,GACFqC,+qNC9DE,IAAAoG,GAAA,SAAC/G,GACd,IAAOnN,EAAgEmN,EAAhEnN,WAAYvI,EAAoD0V,EAApD1V,KAAM0c,EAA8ChH,EAA9CgH,gBAAiBrK,EAA6BqD,EAA7BrD,QAASQ,EAAoB6C,EAApB7C,SAAUb,EAAU0D,EAAV1D,OAG7D3B,EAAsCC,mBAAS,IAA/CC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAOsM,EAAPpM,EAAA,GAAoBqM,EAApBrM,EAAA,GACAG,EAAkCJ,mBAAS,IAA3CK,EAAAjR,OAAA+N,EAAA,EAAA/N,CAAAgR,EAAA,GAaImM,GAbJlM,EAAA,GAAAA,EAAA,GAaoB0B,EAAQ7O,IAAI,SAAAoK,GAC9B,IAAYkP,EAAiDlP,EAAtDpI,IAAgB4L,EAAsCxD,EAAtCwD,WAAYF,EAA0BtD,EAA1BsD,SAAU6L,EAAgBnP,EAAhBmP,aA4I7C,OA1IInP,EAAOE,YAAckP,GAAShJ,kBAChCpG,EAAM,eAAqB,SAACnK,EAAD0D,EAAkE8V,GAAS9V,EAAnE+V,KAAmE/V,EAA7DgW,cAA6DhW,EAA9CiW,cAA8CjW,EAA/BkW,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAAyH,EAAAmW,IACpG,OAAOtN,EAAAC,EAAAC,cAAC8D,GAAD,CACPmG,KAAM,EACNU,aAAY,eAAAxS,EAAA3I,OAAA0H,EAAA,EAAA1H,CAAA6d,KAAAjW,KACV,SAAAC,EAAOiW,GAAP,IAAAC,EAAA,OAAAF,KAAA7V,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACQ4V,EAAMR,EAAKS,cAAcX,GADjCpV,EAAAK,OAAA,SAESG,GAAQjB,gBAAgB,CAACqB,aAAYoV,OAAQb,EAAWc,KAAKle,OAAAme,GAAA,EAAAne,CAAA,GAAGqd,EAAeU,MAFxF,wBAAA9V,EAAAM,SAAAV,MADU,gBAAAW,GAAA,OAAAG,EAAAvE,MAAAlE,KAAAoB,YAAA,GAMV8U,SACE,SAAC7D,GAAM,IAAA6L,EACLb,EAAKc,cAAcjB,EAAnB,OAA8B7K,QAA9B,IAA8BA,OAA9B,UAAA6L,EAA8B7L,EAAI,UAAlC,IAAA6L,OAAA,EAA8BA,EAAQ/c,YAM5C6M,EAAOE,YAAckP,GAAS/I,cAChCrG,EAAM,eAAqB,SAACnK,EAADmF,EAAkEqU,GAASrU,EAAnEsU,KAAmEtU,EAA7DuU,cAA6DvU,EAA9CwU,cAA8CxU,EAA/ByU,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAAkJ,EAAAoV,IAAA,IAChGvH,EAAU/W,OAAO4N,QAAQ7J,EAAKwa,WAAWza,IAAI,SAAA2F,GAAY,IAAAQ,EAAAjK,OAAA+N,EAAA,EAAA/N,CAAAyJ,EAAA,GAAPqF,GAAO7E,EAAA,GAAAA,EAAA,IAAC,MAAO,CAACsQ,MAAOzL,EAAEoF,KAAM7S,MAAOyN,EAAEoF,QAC9F,OAAO5D,EAAAC,EAAAC,cAAC+D,GAAD,CAAuBwC,QAASA,EAAS0D,KAAM,EAAGE,aAAc,SAAApI,GACrEgL,EAAKc,cAAcjB,EAAW7K,EAAE,SAIlCrE,EAAOE,YAAckP,GAASjJ,sBAChCnG,EAAM,eAAqB,SAACnK,EAADwG,EAAkEgT,GAAShT,EAAnEiT,KAAmEjT,EAA7DkT,cAA6DlT,EAA9CmT,cAA8CnT,EAA/BoT,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAAuK,EAAAiU,IAAA,IAChGzH,EAAU/W,OAAO4N,QAAQ7J,EAAKwa,WAAWza,IAAI,SAAAiH,GAAY,IAAAO,EAAAtL,OAAA+N,EAAA,EAAA/N,CAAA+K,EAAA,GAAP+D,GAAOxD,EAAA,GAAAA,EAAA,IAAC,MAAO,CAACiP,MAAOzL,EAAEoF,KAAM7S,MAAOyN,EAAEoF,QAC9F,OAAO5D,EAAAC,EAAAC,cAAC+D,GAAD,CAAuBwC,QAASA,EAAS4D,aAAc,SAAApI,GAC5DgL,EAAKc,cAAcjB,EAAW7K,QAIhCrE,EAAOE,YAAckP,GAAS7H,SAChCvH,EAAM,eAAqB,SAACnK,EAAD6H,EAAkE2R,GAAS3R,EAAnE4R,KAAmE5R,EAA7D6R,cAA6D7R,EAA9C8R,cAA8C9R,EAA/B+R,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAA4L,EAAA6S,IAEpG,OAAOnO,EAAAC,EAAAC,cAACyH,GAASlC,UAAV,CAAoBrE,WAAYA,EAAYmF,YAAa3I,EAAO2I,YAAaC,WAAY,SAACgB,EAAaC,GAAiB,IAAA2G,EACvH5P,EAAC,OAAGgJ,QAAH,IAAGA,OAAH,UAAA4G,EAAG5G,EAAa6G,OAAO,UAAvB,IAAAD,OAAA,EAAGA,EAAyB,GAC/B5P,GAAGyO,EAAKc,cAAcjB,EAAW,CAAChU,GAAI0F,QAIvCZ,EAAOE,YAAckP,GAASnJ,UACrCjG,EAAM,SAAe,CAAC0Q,GAAI,GAAIC,GAAI,IAClC3Q,EAAM,eAAqB,SAACnK,EAADmI,EAAkEqR,GAASrR,EAAnEsR,KAAmEtR,EAA7DuR,cAA6DvR,EAA9CwR,cAA8CxR,EAA/ByR,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAAkM,EAAA4S,IACpG,OAAOxO,EAAAC,EAAAC,cAACsF,GAASC,UAAV,CAAoBjQ,IAAG,OAAE/B,QAAF,IAAEA,OAAF,EAAEA,EAAMqF,GAAI2V,MAAOxB,EAAKS,cAAcZ,GAAYhH,SAAU,SAAA/U,GACxFkc,EAAKc,cAAcjB,EAAW/b,QAI3B6M,EAAOE,YAAckP,GAAS5H,eACrCxH,EAAM,SAAe,CAAC0Q,GAAI,GAAIC,GAAI,IAClC3Q,EAAM,eAAqB,SAACnK,EAAD2I,EAAkE6Q,GAAS7Q,EAAnE8Q,KAAmE9Q,EAA7D+Q,cAA6D/Q,EAA9CgR,cAA8ChR,EAA/BiR,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAA0M,EAAAsS,IACpG,OAAO1O,EAAAC,EAAAC,cAACkF,GAAcK,UAAf,CAAyBjQ,IAAG,OAAE/B,QAAF,IAAEA,OAAF,EAAEA,EAAMqF,GAAI2V,MAAOxB,EAAKS,cAAcZ,GAAYhH,SAAU,SAAA/U,GAC7Fkc,EAAKc,cAAcjB,EAAW/b,QAK3BqQ,IACPxD,EAAM,eAAqB,SAACnK,EAAD8J,EAAkE0P,GAAS1P,EAAnE2P,KAAmE3P,EAA7D4P,cAA6D5P,EAA9C6P,cAA8C7P,EAA/B8P,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAA6N,EAAAoR,IAAA,IAC9FC,EAAO3B,EAAKS,cAAcZ,GAChC,OAAO9M,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyB,SAAA,KAIL1B,EAAAC,EAAAC,cAAC2O,GAAA,EAAMC,MAAP,CAAaC,SAAO,GAClB/O,EAAAC,EAAAC,cAAC2O,GAAA,EAAD,CACEpE,YAAU,EACVX,MAAO,CACLU,MAAO,OAETG,YAAa/M,EAAO+M,YACpB5Z,MAAOkc,EAAKS,cAAcZ,GAC1BhH,SACE,SAAA7D,GAEwB,IAAlBA,EAAE+M,OAAOje,OAAekR,EAAE+M,OAAOje,OAAS,GACxCmQ,IAAaI,GAAO/B,WAAa2B,IAAaI,GAAO9B,WACvDyN,EAAKc,cAAcjB,EAAW,IACrB5L,IAAaI,GAAOjC,WAAa6B,IAAaI,GAAOhC,SAC9D2N,EAAKc,cAAcjB,EAAW,MAE9BG,EAAKc,cAAcjB,EAAW7K,EAAE+M,OAAOje,OAIzCkc,EAAKc,cAAcjB,EAAW7K,EAAE+M,OAAOje,UAK/CiP,EAAAC,EAAAC,cAAC+O,EAAA,EAAD,CAAQ/B,KAAK,UAAUgC,QAAS,SAAAjN,GA1GxB,IAACjS,IA2GG8c,EA1GpBF,EAAe,SAAAuC,GAAM,OAAOzf,OAAA0K,EAAA,EAAA1K,QAAA0K,EAAA,EAAA1K,CAAA,GAAIyf,GAAX,GAAAzf,OAAAme,GAAA,EAAAne,CAAA,GAAeM,GAAO,QA2GhCgQ,EAAAC,EAAAC,cAACkP,GAAA,EAAD,QAGHR,GAAQ3b,MAAM4C,QAAQ+Y,GAAQA,EAAKpb,IAAI,SAAAgL,GAAC,OAAIiB,GAAaW,SAAS5B,EAAE1F,GAAIsI,EAAY5C,EAAE1F,MAClF2G,GAAaW,SAAb,OAAsBwO,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAM9V,GAAIsI,EAAhC,OAA4CwN,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAM9V,IAExDkH,EAAAC,EAAAC,cAACmP,GAAA,EAAD,CAAOC,gBAAgB,EAAM9E,MAAO,MAAO3C,OAAQ,MAAOlI,MAAO/B,EAAO+B,MAAOqJ,KAAM2D,EAAYG,GAAYyC,KAAM,SAAAtN,GAAC,OA/G1GjS,EA+GuH8c,OA9GvIF,EAAe,SAAAuC,GAAM,OAAOzf,OAAA0K,EAAA,EAAA1K,QAAA0K,EAAA,EAAA1K,CAAA,GAAIyf,GAAX,GAAAzf,OAAAme,GAAA,EAAAne,CAAA,GAAeM,GAAO,MAD5B,IAACA,GA+GmIwf,SAAU,SAAAvN,GAAC,OA5G1IjS,EA4G2J8c,OA3G/KF,EAAe,SAAAuC,GAAM,OAAOzf,OAAA0K,EAAA,EAAA1K,QAAA0K,EAAA,EAAA1K,CAAA,GAAIyf,GAAX,GAAAzf,OAAAme,GAAA,EAAAne,CAAA,GAAeM,GAAO,MADxB,IAACA,IA6GZgQ,EAAAC,EAAAC,cAACuP,GAAD,CAAWlX,WAAY6I,EACrBsO,aAAc,CACZC,iBAAkB,SAACC,KAWnBC,uBAAwBjB,EAAO3b,MAAM4C,QAAQ+Y,GAAQA,EAAKpb,IAAI,SAAAgL,GAAC,OAAIA,EAAE1F,KAAM,CAAC8V,GAAQ,GACpF1B,KAAOhM,IAAaI,GAAO/B,WAAa2B,IAAaI,GAAO9B,WAAc,WAAa,QACvFsG,SAAU,SAACgK,EAAiBC,EAAcC,GAExC,GAAI9O,IAAaI,GAAO/B,WAAa2B,IAAaI,GAAO9B,WAAY,CACnE,IAAMyQ,EAAMF,EAAavc,IAAI,SAAAgL,GAAM,MAAO,CAAC1F,GAAI0F,EAAE1F,MACjDmU,EAAKc,cAAcjB,EAAWmD,QACzB,GAAI/O,IAAaI,GAAOjC,WAAa6B,IAAaI,GAAOhC,SAAU,CACxE,IAAM2Q,EAAMF,EAAavc,IAAI,SAAAgL,GAAM,MAAO,CAAC1F,GAAI0F,EAAE1F,MACjDmU,EAAKc,cAAcjB,EAAWmD,EAAI,QAG/B,CACH,IAAMA,EAAMF,EAAavc,IAAI,SAAAgL,GAAM,OAAOA,EAAE1F,KAC5CmU,EAAKc,cAAcjB,EAAWmD,EAAI,aAS3CrS,KAGHsS,EAAY1E,mBAClB,OAAOxL,EAAAC,EAAAC,cAAC4B,GAAA,EAAD,CACLI,QAASwK,EACTyD,QAASD,EACTlO,OAAQA,EACRrC,MAAO3P,EACPoS,WAAW,YACXC,QAASwK,EACTvK,qBAAmB,EACnBC,cAAe,IACfC,SAAU,CAACC,OAAQ,CAAC,GAAI,KACxBC,SAAU,CAACC,KAAM,IACjBC,MAAM,EACNC,SAAU,SAAArE,GAAMqE,EAASrE,m1MChL7B,IAAO4R,GAAeC,IAAfD,YAGQ,SAASX,GAAU/J,GAEhC,IAAKnN,EAAkDmN,EAAlDnN,WAAY+X,EAAsC5K,EAAtC4K,WAAYZ,EAA0BhK,EAA1BgK,aAAcpG,EAAY5D,EAAZ4D,SAC3CoG,EAAeA,GAAgB,GAC/B,IAAArP,EAA4BC,mBAAS,IAArCC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAKgC,EAAL9B,EAAA,GAAcgQ,EAAdhQ,EAAA,GACAG,EAAsCJ,mBAAS,IAA/CK,EAAAjR,OAAA+N,EAAA,EAAA/N,CAAAgR,EAAA,GAAKpE,EAALqE,EAAA,GAAmB6P,EAAnB7P,EAAA,GAIM8P,EAAiB,SAACzP,EAASW,GAC/B,IAAOhC,EAA+CgC,EAA/ChC,MAAmBC,EAA4B+B,EAAxCP,WAAiBC,EAAuBM,EAAvBN,UAAWH,EAAYS,EAAZT,SA6B1C,GA1BIS,EAAEsM,YACJtM,EAAEsM,UAAYve,OAAO4N,QAAQqE,EAAEsM,WAAWyC,OAAO,SAACzQ,EAAD9I,GAAe,IAAAkB,EAAA3I,OAAA+N,EAAA,EAAA/N,CAAAyH,EAAA,GAAPwK,GAAOtJ,EAAA,GAAAA,EAAA,IAAkB,OAAjB4H,EAAE0B,EAAEtL,QAAUsL,EAAU1B,GAAK,KAI5E,MAAhB0B,EAAE9D,aACJ8D,EAAEgP,eAAiB,SAACld,EAADmF,EAAkEqU,GAASrU,EAAnEsU,KAAmEtU,EAA7DuU,cAA6DvU,EAA9CwU,cAA8CxU,EAA/ByU,WAA+B3d,OAAAsb,EAAA,EAAAtb,CAAAkJ,EAAAgY,IAC5F,OAAIjP,EAAE9D,WAAWC,YAAckP,GAAS7H,SAC/BnF,EAAAC,EAAAC,cAACyH,GAAStB,WAAV,CAAqBjF,WAAYO,EAAEP,WAAYmF,YAAa5E,EAAE4E,YAAaC,WAAY,SAACgB,EAAaC,GAAiB,IAAA2G,EACrH5P,EAAC,OAAGgJ,QAAH,IAAGA,OAAH,UAAA4G,EAAG5G,EAAa6G,OAAO,UAAvB,IAAAD,OAAA,EAAGA,EAAyB,GAC/B5P,GAAGyO,EAAKc,cAAc1M,EAAW,CAACvI,GAAI0F,OAGf,kBAA3BmD,EAAE9D,WAAWC,UACRkC,EAAAC,EAAAC,cAACkQ,GAAD,CAAaS,UAAQ,IACQ,cAA3BlP,EAAE9D,WAAWC,UACfkC,EAAAC,EAAAC,cAACkQ,GAAD,MAC6B,cAA3BzO,EAAE9D,WAAWC,UACfkC,EAAAC,EAAAC,cAAC4Q,EAAA,EAAWV,YAAZ,WADF,IASPlP,IAAaI,GAAOhC,UAAY4B,IAAaI,GAAOjC,UAEtD,OADAsC,EAAC,OAAa,SAACiC,EAAMgM,EAAQ/N,GAAW,OAAOpC,GAAaC,MAAMC,EAAOC,EAAKgQ,EAAOvO,KAC9EM,EAEJ,GAAIT,IAAaI,GAAO/B,WAAa2B,IAAaI,GAAO9B,WAI5D,OAHAmC,EAAC,OAAa,SAACiC,EAAMgM,EAAQ/N,GAAU,IAAAkP,EACrC,eAAAA,EAAOnB,EAAOvO,UAAd,IAAA0P,OAAA,EAAOA,EAAmBvd,IAAI,SAAAyN,GAAM,OAAOxB,GAAaC,MAAMC,EAAOC,EAAKqB,MAErEU,EAGT,GAAIA,EAAE7D,YAAckP,GAASnJ,SAI3B,OAHAlC,EAAC,OAAa,SAACiC,EAAMgM,EAAQ/N,GAC3B,OAAO7B,EAAAC,EAAAC,cAACsF,GAASU,aAAV,CAAuBnV,MAAO6e,EAAOvO,MAEvCM,EAET,GAAIA,EAAE7D,YAAckP,GAAS5H,cAI3B,OAHAzD,EAAC,OAAa,SAACiC,EAAMgM,EAAQ/N,GAC3B,OAAO7B,EAAAC,EAAAC,cAACkF,GAAcc,aAAf,CAA4BnV,MAAO6e,EAAOvO,MAE5CM,EAKT,GAAI/B,EAAK,CACG+B,EAAC,IACXA,EAAC,OAAa,SAACiC,EAAMgM,EAAQ/N,GAC3B,IAAMmN,EAASY,EAAOvO,GACtB,GAAI2N,GAAU/b,MAAM4C,QAAQmZ,GAC1B,OAAOhP,EAAAC,EAAAC,cAAAF,EAAAC,EAAAyB,SAAA,SAAIsN,EAAOxb,IAAI,SAAAwd,GAAC,OAAIhR,EAAAC,EAAAC,cAACC,GAAD,CAAU3K,IAAKwb,EAAElY,GAAI6G,MAAOA,EAAO7G,GAAIkY,EAAElY,GAAI8G,IAAKA,MAAtE,KAEJ,GAAIjK,GAAMqZ,GAAS,CACtB,IAAMiC,EAAG,OAAGjC,QAAH,IAAGA,OAAH,EAAGA,EAAQlW,GACpB,OAAOmY,EAAMjR,EAAAC,EAAAC,cAACC,GAAD,CAAU3K,IAAKyb,EAAKtR,MAAOA,EAAO7G,GAAImY,EAAKrR,IAAKA,IAAU,GAGvE,IAAMqR,EAAMjC,EACZ,OAAOiC,EAAMjR,EAAAC,EAAAC,cAACC,GAAD,CAAU3K,IAAKyb,EAAKtR,MAAOA,EAAO7G,GAAImY,EAAKrR,IAAKA,IAAU,IAW7E,OALI+B,EAAC,UACHA,EAAC,OAAa,SAACiC,EAAMgM,EAAQ/N,GAAf,OAAyBnS,OAAO4N,QAAQqE,EAAC,SAAanO,IAAI,SAAA2F,GAAA,IAAAQ,EAAAjK,OAAA+N,EAAA,EAAA/N,CAAAyJ,EAAA,GAAOqQ,GAAP7P,EAAA,GAAAA,EAAA,WAAmBuX,EAAelQ,EAASwI,EAAQoG,EAAQ/N,OAI9HF,GAGTb,oBAAU,WACRpR,OAAA0H,EAAA,EAAA1H,CAAAyhB,KAAA7Z,KAAC,SAAAC,IAAA,IAAAyJ,EAAAoQ,EAAA,OAAAD,KAAAzZ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACqBM,GAAQC,qBAAqBG,GADlD,OACKyI,EADLrJ,EAAAI,KAEKuR,IACFtI,EAAUA,EAAQlF,OAAO,SAAA6F,GAAC,MAAmB,iBAAfA,EAAC,SAEjCX,EAAUA,EAAQxN,IAAI,SAAAmO,GAAM,OAAO8O,EAAezP,EAASW,KAGvDyP,EAAOpQ,EAAQ0P,OAAO,SAACzQ,EAAG0B,GAAqB,OAAd1B,EAAE0B,EAAEnM,KAAOmM,EAAU1B,GAAK3D,GAG/DkU,EAAgBY,GAEhBb,EAAWvP,GAbZ,wBAAArJ,EAAAM,SAAAV,KAAD7H,IAgBC,CAAC4M,EAAc/D,IAGlB,IAAM8Y,EAAkB,eAAA5W,EAAA/K,OAAA0H,EAAA,EAAA1H,CAAAyhB,KAAA7Z,KAAG,SAAAgB,IAAA,IAAAiE,EAAAC,EAAAV,EAAAwV,EAAAtgB,UAAA,OAAAmgB,KAAAzZ,KAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAO0E,EAAP+U,EAAArgB,OAAA,QAAAC,IAAAogB,EAAA,GAAAA,EAAA,GAAgB,GAAI9U,EAApB8U,EAAArgB,OAAA,EAAAqgB,EAAA,QAAApgB,EAA0B4K,EAA1BwV,EAAArgB,OAAA,EAAAqgB,EAAA,QAAApgB,EAAAsH,EAAAR,OAAA,SAClBG,GAAQgE,YAAY5D,EAAY+D,EAAcC,EAAQC,EAAMV,IAD1C,wBAAAtD,EAAAP,SAAAK,MAAH,yBAAAmC,EAAA3G,MAAAlE,KAAAoB,YAAA,GAclBugB,EAAqB,WACzB,IAAIC,EAAcnP,EACfvG,OAAO,SAAA6F,GAAC,OAAoB,MAAhBA,EAAE8P,aACdje,IAAI,SAAAmO,GAAC,OAAIA,EAAE8P,aACXje,IAAI,SAAAmO,GAEH,OAAOA,IAERnF,KAAK,SAACyD,EAAG2B,GAAJ,OAAU3B,EAAE4B,MAAQD,EAAEC,QAC9B,OAAO7B,EAAAC,EAAAC,cAACuM,GAAD,CAAWlU,WAAYA,EAAYvI,KAAK,eAAKqS,QAASmP,EAC3D3O,SAAU,SAAA7P,GAAM,OACdmF,GAAQ6B,YAAYzB,EAAYvF,EAAQ,WAAOkd,EAAU9S,QAAQsU,YAEnEhF,gBAAiB1M,EAAAC,EAAAC,cAAC+O,EAAA,EAAD,CAAQ/B,KAAK,WAAb,IAAwBlN,EAAAC,EAAAC,cAACyR,EAAA,EAAD,MAAxB,qBAGfT,EAAiB,SAAClQ,EAASwI,EAAQoG,EAAQ/N,GAC/C,IAAIrM,EAAMgU,EAAOhU,IACboO,EAAO4F,EAAO5F,KAClB,GAAY,SAARpO,GAA0B,WAARA,EAAkB,CAEtC,IAAIgL,EAAWQ,EAEZlF,OAAO,SAAA6F,GAAC,OAAoB,MAAhBA,EAAC,UAEbnO,IAAI,SAAAmO,GAAC,OAAIA,EAAE8P,aAEX3V,OAAO,SAAA6F,GAAC,OAAIA,IACZnF,KAAK,SAACyD,EAAG2B,GAAJ,OAAU3B,EAAE4B,MAAQD,EAAEC,QAE9BrB,EAAS4J,OAAO,EAAG,EAAG,CACpBvI,MAAS,IACT2I,MAAS,KACThV,IAAO,KACPmV,YAAe,GACfiH,YAAc,EACd9T,UAAa,QACb6B,MAAS,KACTkS,QAAW,KACX9P,UAAY,EACZkM,UAAa,KACbvL,SAAY,CACV6L,GAAM,IAERhN,aAAgBqO,EAAO9W,KAEzB0H,EAAWA,EAAShN,IAAI,SAAAyN,GAEtB,OADAA,EAAEM,aAAeqO,EAAO3O,EAAEzL,KACnByL,IAENzE,KAAK,SAACyD,EAAG2B,GAAJ,OAAU3B,EAAE4B,MAAQD,EAAEC,QAG9B,IAAIiQ,EAAqB,WAARtc,EAKjB,OAAOwK,EAAAC,EAAAC,cAACuM,GAAD,CAAWlU,WAAYA,EAAY/C,IAAKA,EAAKxF,KAAM4T,EAAM0F,SAAUwI,EAAYzP,QAAS7B,EAC7FqC,SAAU,SAACkP,GAAD,OACR5Z,GAAQqC,YAAYjC,EAAYwZ,EAAU,WACxC7B,EAAU9S,QAAQsU,YAGpBhF,gBAAiB1M,EAAAC,EAAAC,cAAA,aAAK0D,EAAL,OAElB,GAAY,WAARpO,EAEP,OAAOwK,EAAAC,EAAAC,cAAC8R,EAAA,EAAD,CAAYxc,IAAKA,EAAKmK,MAAM,4BAAQsS,UAASviB,OAAA0H,EAAA,EAAA1H,CAAAyhB,KAAA7Z,KAAE,SAAAuB,IAAA,OAAAsY,KAAAzZ,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,OACpDM,GAAQe,gBAAgBX,EAAYqX,EAAO9W,GAAI,WAC7CoX,EAAU9S,QAAQsU,WAFgC,wBAAA3Y,EAAAd,SAAAY,OAKnDmH,EAAAC,EAAAC,cAAA,QAAMgS,UAAU,eAAhB,IAAgCtO,EAAhC,MAIH,IAAMtG,EAAU5N,OAAO4N,QAAQkM,EAAO2I,eAGtC,KAAI3c,KAAOoa,IAAWA,EAAOpa,GAA7B,CAGA,GAAsB,GAAlB8H,EAAQrM,OAEV,OAAO+O,EAAAC,EAAAC,cAAA,KAAG1K,IAAKA,EAAK0Z,QAAS,WAC3BkD,EAASxO,EAAM,CACbrL,aACA8Z,WAAY7c,EACZsD,GAAI8W,EAAO9W,OAEX8K,GAGiBtG,EAAQoT,OAAO,SAACzQ,EAAD3E,GAAe,IAAAM,EAAAlM,OAAA+N,EAAA,EAAA/N,CAAA4L,EAAA,GAAPkD,GAAO5C,EAAA,GAAAA,EAAA,IAAY,OAAXqE,EAAE+J,KAAKxL,GAAWyB,GAAK,IAE3E,OAAOD,EAAAC,EAAAC,cAACuM,GAAD,CAAWlU,WAAYA,EAAY/C,IAAKA,EAAKxF,KAAM4T,EAAMvB,QAASmH,EAAO2I,cAAcvE,KAAM/K,SAAU,SAACkP,GAC7GK,EAASxO,EAAM,CACbrL,aACA8Z,WAAY7c,EACZsD,GAAI8W,EAAO9W,GACX8U,KAAM,CAACA,KAAMmE,MAGfrF,gBAAiB1M,EAAAC,EAAAC,cAAA,KAAGiC,KAAK,MAAR,IAAeyB,EAAf,SAMnBwO,EAAQ,eAAAhW,EAAA1M,OAAA0H,EAAA,EAAA1H,CAAAyhB,KAAA7Z,KAAG,SAAA8B,EAAOwK,EAAMrH,GAAb,OAAA4U,KAAAzZ,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAAzB,KAAA,EAECM,GAAQ4C,YAAYwB,EAAQ,WAC1CjG,IAAQ0I,QAAR,GAAAjP,OAAmB6T,EAAnB,kBACAsM,EAAU9S,QAAQsU,WAJL,OAAApY,EAAAvB,KAAA,wBAAAuB,EAAArB,SAAAmB,MAAH,gBAAAlB,EAAAQ,GAAA,OAAA0D,EAAAtI,MAAAlE,KAAAoB,YAAA,GAiBRkf,EAAY1E,mBAGlB,OAAQnJ,GAAWrC,EAAAC,EAAAC,cAACoS,EAAA,EAAD,CACjB9c,IAAK+C,EACLga,OAAQ,CAACC,EAAoB,IAAjBnQ,EAAQpR,QACpBoR,QAASA,EACT6N,UAAWA,EACXuC,cAAY,EACZ9L,QAAS0K,EACTqB,SAAU,CAACxF,KAAM,YACjByF,aAAc,CACZC,eAAgB,OAChBC,gBAAiB,eACjB/M,SAHY,SAGH/U,MAEX+hB,OAAO,KACPC,OAAQ,CAACC,WAAY,QACrBvM,QAAS,CAACwM,QAAS,CAACC,YAAa,MACjCjG,KAAM,CAGJkG,UAAW,SAACngB,EAAQka,GAAU,OAAO,IAGvCkG,WACE,CACEzU,SAAU,GACVmH,SAAU,SAAChH,GAAD,OAAUgB,QAAQ6J,IAAI7K,KAGpCuU,cAAc,SACdC,YAAY,GACZC,cAAe,iBAAM,CAAChC,MAGtB7B,aAAYhgB,OAAA0K,EAAA,EAAA1K,CAAA,GAAMggB,GAElB8D,iBAAkB,SAAAjW,GAAA,IAAEuS,EAAFvS,EAAEuS,gBAAiBC,EAAnBxS,EAAmBwS,aAAc0D,EAAjClW,EAAiCkW,gBAAjC,OAChBzT,EAAAC,EAAAC,cAACwT,EAAA,EAAD,CAAOvJ,KAAM,IAEXnK,EAAAC,EAAAC,cAAA,4BACM4P,EAAgB7e,OADtB,YAGI6e,EAAgBtc,IAAI,SAAAsF,GAAE,OAAI2G,GAAaW,SAAStH,EAAIP,EAAYO,KAHpE,IAKEkH,EAAAC,EAAAC,cAAA,KAAGiC,KAAK,KAAK2H,MAAO,CAAC6J,kBAAmB,IAAKzE,QAAS,kBAAM/W,GAAQuB,iBAClE,CACEnB,aACA0X,IAAKH,GACJ,WACD2D,IACAvD,EAAU9S,QAAQsU,aANtB,4BASA1R,EAAAC,EAAAC,cAAA,KAAGiC,KAAK,KAAK2H,MAAO,CAAC6J,kBAAmB,IAAKzE,QAASuE,GAAtD,4BACCnD,GAActQ,EAAAC,EAAAC,cAAA,KAAGiC,KAAK,KAAK2H,MAAO,CAAC6J,kBAAmB,IAAKzE,QAAS,SAAAjN,GAAC,OAAIqO,EAAWP,KAAtE,yEC7Td6D,GAAA,EAKIA,GAAA,EAKIA,GAAA,EAIL5T,EAAAC,EAAAyB,SAKKkS,GAAA,EAKAA,GAAA,EAOJA,GAAA,EAKIA,GAAA,EAOJA,GAAA,EAKIA,GAAA,EAKAA,GAAA,EACQC,GAAA,EAShBD,GAAA,EAKIA,GAAA,EAKIA,GAAA,EAKAA,GAAA,qxMCzCJE,OAtCf,WACE,IAAAzT,EAA0BC,mBAAS,IAAnCC,EAAA7Q,OAAA+N,EAAA,EAAA/N,CAAA2Q,EAAA,GAAK0T,EAALxT,EAAA,GAAayT,EAAbzT,EAAA,GACIhI,EAAY0b,KAAGjN,MAAM+B,OAAOmL,SAASnB,OAAQ,CAAEoB,mBAAmB,IAAQ5b,WAC9EA,EAAWA,EAEX,IAAAmI,EAA0BJ,mBAAS,MAAnCK,EAAAjR,OAAA+N,EAAA,EAAA/N,CAAAgR,EAAA,GAAOf,EAAPgB,EAAA,GAAcyT,EAAdzT,EAAA,GACAyK,EAAgC9K,mBAAS,SAAzC+K,EAAA3b,OAAA+N,EAAA,EAAA/N,CAAA0b,EAAA,GAAOiJ,EAAPhJ,EAAA,GAaA,OAbAA,EAAA,GAKAvK,oBAAU,WACRpR,OAAA0H,EAAA,EAAA1H,CAAA4kB,KAAAhd,KAAC,SAAAC,IAAA,IAAAZ,EAAA,OAAA2d,KAAA5c,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACkB/B,IAAM2C,IAAN,gBADlB,OACK9B,EADLgB,EAAAI,KAECic,EAAUrd,EAAKA,MACA,MAAZ4B,GACD6b,EAASzd,EAAKA,KAAK4B,GAAYqL,MAJlC,wBAAAjM,EAAAM,SAAAV,KAAD7H,IAMC,IAEAsQ,EAAAC,EAAAC,cAAA,WAEGxQ,OAAO6kB,KAAKR,GAAQ9iB,OAAS,GAAKvB,OAAO4N,QAAQyW,GAAQvgB,IAAI,SAAA6E,GAAY,IAAAO,EAAAlJ,OAAA+N,EAAA,EAAA/N,CAAA2I,EAAA,GAAVmc,EAAU5b,EAAA,GAAP4F,EAAO5F,EAAA,GACvE,OAAOoH,EAAAC,EAAAC,cAAA,KAAG1K,IAAKgf,EAAGrS,KAAK,KAAK+M,QAAS,SAAAjN,GAErC8G,OAAOmL,SAASnB,OAAS,cAAcvU,EAAE0T,YAErC1T,EAAEoF,KAJC,QAOX5D,EAAAC,EAAAC,cAAA,UAAKP,GACLK,EAAAC,EAAAC,cAAA,MAAI4J,MAAO,CAAC2K,aAAc,UACZ,UAAbJ,GAAyBrU,EAAAC,EAAAC,cAAEuP,GAAF,CAAQlX,WAAYA,IAChC,SAAb8b,GAAwBrU,EAAAC,EAAAC,cAAEuP,GAAF,CAAQlX,WAAYA,MCnCnDmc,IAASC,OAAO3U,EAAAC,EAAAC,cAAC0U,GAAD,MAAS3L,SAAS4L,eAAe","file":"static/js/main.c072e3e8.chunk.js","sourcesContent":["class Item { //Abstract\n\tconstructor() {\n\t\tconst mustOverwriteMethods = [ \"toString\" ];\n\t\tif (new.target === Item) {\n\t\t\tthrow new TypeError(`Cannot construct ${new.target.name} instances directly`);\n\t\t}\n\t\tlet protoLits = [ Object.getPrototypeOf(this) ];\n\t\twhile(Object.getPrototypeOf(protoLits[0]).constructor.name !== \"Object\") { protoLits.unshift(Object.getPrototypeOf(protoLits[0])); }\n\t\tconst superProto = protoLits.shift();\n\t\tlet missing = mustOverwriteMethods.find(name => typeof superProto[name] === \"function\" && !protoLits.some(proto => proto.hasOwnProperty(name)));\n\t\tif (missing) {\n\t\t\tthrow new TypeError(`${this.constructor.name} need to overwrite ${missing}`);\n\t\t}\n\t}\n}\n\nexport { Item };","import { Item } from './item.js';\n\nclass Comparator extends Item { //Abstract\n\tconstructor(selector, comparatorKeyWord, value = undefined) {\n\t\tsuper();\n\t\tif (new.target === Comparator) {\n\t\t\tthrow new TypeError(`Cannot construct ${new.target.name} instances directly`);\n\t\t}\n\t\tif (!(selector instanceof Function || (typeof selector === 'string' || selector instanceof String))) {\n\t\t\tthrow new TypeError(`${new.target.name} parameter 'selector' must be a Function or a String!`);\n\t\t}\n\t\tif (value) {\n\t\t\tif (!(typeof value === 'string' || value instanceof String || typeof value === 'number' || value instanceof Number)) {\n\t\t\t\tthrow new TypeError(`${new.target.name} parameter 'value' must be a String or a Number!`);\n\t\t\t}\n\t\t}\n\t\tthis.selector = selector;\n\t\tthis.comparatorKeyWord = comparatorKeyWord;\n\t\tthis.value = value;\n\t}\n\n\ttoString() {\n\t\tif (this.value !== undefined) {\n\t\t\tif (typeof this.value === 'number' || this.value instanceof Number) {\n\t\t\t\treturn `${this.selector} ${this.comparatorKeyWord} ${this.value}`;\n\t\t\t} else {\n\t\t\t\treturn `${this.selector} ${this.comparatorKeyWord} '${this.value}'`;\n\t\t\t}\n\t\t} else {\n\t\t\treturn `${this.selector} ${this.comparatorKeyWord}`;\n\t\t}\n\t}\n}\n\nclass Like extends Comparator {\n\tconstructor(selector, value) {\n\t\tsuper(selector, \"~\", value);\n\t}\n}\n\nclass Equal extends Comparator {\n\tconstructor(selector, value) {\n\t\tsuper(selector, \":\", value);\n\t}\n}\n\nclass NotEqual extends Comparator {\n\tconstructor(selector, value) {\n\t\tsuper(selector, \"!\", value);\n\t}\n}\n\nclass Gt extends Comparator {\n\tconstructor(selector, value) {\n\t\tsuper(selector, \">\", value);\n\t}\n}\n\nclass Ge extends Comparator {\n\tconstructor(selector, value) {\n\t\tsuper(selector, \">:\", value);\n\t}\n}\n\nclass Lt extends Comparator {\n\tconstructor(selector, value) {\n\t\tsuper(selector, \"<\", value);\n\t}\n}\nclass Le extends Comparator {\n\tconstructor(selector, value) {\n\t\tsuper(selector, \"<:\", value);\n\t}\n}\n\nclass IsNull extends Comparator {\n\tconstructor(selector) {\n\t\tsuper(selector, \"IS NULL\");\n\t}\n}\n\nclass IsNotNull extends Comparator {\n\tconstructor(selector) {\n\t\tsuper(selector, \"IS NOT NULL\");\n\t}\n}\n\nclass IsEmpty extends Comparator {\n\tconstructor(selector) {\n\t\tsuper(selector, \"IS EMPTY\");\n\t}\n}\n\nclass IsNotEmpty extends Comparator {\n\tconstructor(selector) {\n\t\tsuper(selector, \"IS NOT EMPTY\");\n\t}\n}\n\nclass In extends Comparator {\n\tconstructor(selector, ...values) {\n\t\tsuper(selector, \"IN\", \"('\" + values.join(\"', '\") + \"')\");\n\t}\n\n\ttoString() {\n\t\treturn `${this.selector} ${this.comparatorKeyWord} ${this.value}`;\n\t}\n\n}\n\nexport { Comparator, Like, Equal, NotEqual, Gt, Ge, Lt, Le, IsNull, IsNotNull, IsEmpty, IsNotEmpty, In };","import { Item } from './item.js';\nimport { Comparator } from './comparators.js';\n\nclass Operator extends Item { //Abstract\n\tconstructor(operatorKeyWord, ...items) {\n\t\tsuper();\n\t\tif (new.target === Operator) {\n\t\t\tthrow new TypeError(\"Cannot construct \" + new.target.name + \" instances directly\");\n\t\t}\n\t\tthis.operatorKeyWord = operatorKeyWord;\n\t\tthis.items = items;\n\t}\n\n\ttoString() {\n\t\treturn  \"(\" + this.items.map(item => item.toString()).join(` ${this.operatorKeyWord} `) + \")\";\n\t}\n}\n\nclass And extends Operator {\n\tconstructor(...items) {\n\t\tsuper(\"AND\", ...items);\n\t}\n}\n\nclass Or extends Operator {\n\tconstructor(...items) {\n\t\tsuper(\"OR\", ...items);\n\t}\n}\n\nclass Not extends Operator {\n\tconstructor(item) {\n\t\tif (!(item instanceof Operator || item instanceof Comparator)) {\n\t\t\tthrow new TypeError(`${new.target.name} parameter 'item' must be a Operator or a Comparator!`);\n\t\t}\n\t\tsuper(\"NOT\", item);\n\t}\n}\n\nclass Exists extends Operator {\n\tconstructor(item) {\n\t\tif (!(item instanceof Operator || item instanceof Comparator)) {\n\t\t\tthrow new TypeError(`${new.target.name} parameter 'item' must be a Operator or a Comparator!`);\n\t\t}\n\t\tsuper(\"EXISTS\", item);\n\t}\n}\n\nexport { Operator, And, Or, Not, Exists };","import { Item } from './item.js';\nimport { Comparator } from './comparators.js';\n\nclass Function extends Item { //Abstract\n\tconstructor(functionKeyWord, selector) {\n\t\tif (new.target === Comparator) {\n\t\t\tthrow new TypeError(\"Cannot construct \" + new.target.name + \" instances directly\");\n\t\t}\n\t\tif (!(typeof selector === 'string' || selector instanceof String)) {\n\t\t\tthrow new TypeError(new.target.name + \" parameter 'selector' must be a String!\");\n\t\t}\n\t\tsuper();\n\t\tthis.selector = selector;\n\t\tthis.functionKeyWord = functionKeyWord;\n\t}\n\n\ttoString() {\n\t\tif (this.selector !== undefined) {\n\t\t\treturn this.functionKeyWord + \"(\" + this.selector + \")\";\n\t\t} else {\n\t\t\treturn this.functionKeyWord + \"()\";\n\n\t\t}\n\t}\n}\n\nclass Absolute extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"ABSOLUTE\", selector);\n\t}\n}\n\nclass Average extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"AVERAGE\", selector);\n\t}\n}\n\nclass Min extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"MIN\", selector);\n\t}\n}\n\nclass Max extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"MAX\", selector);\n\t}\n}\n\nclass Sum extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"SUM\", selector);\n\t}\n}\n\nclass CurrentDate extends Function {\n\tconstructor() {\n\t\tsuper(\"CURRENTDATE\");\n\t}\n}\n\nclass CurrentTime extends Function {\n\tconstructor() {\n\t\tsuper(\"CURRENTTIME\");\n\t}\n}\n\nclass CurrentTimestamp extends Function {\n\tconstructor() {\n\t\tsuper(\"CURRENTTIMESSTAMP\");\n\t}\n}\n\nclass Size extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"SIZE\", selector);\n\t}\n}\n\nclass Length extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"LENGTH\", selector);\n\t}\n}\n\nclass Trim extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"TRIM\", selector);\n\t}\n}\n\nclass Upper extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"UPPER\", selector);\n\t}\n}\n\nclass Lower extends Function {\n\tconstructor(selector) {\n\t\tsuper(\"LOWER\", selector);\n\t}\n}\n\nclass Concat extends Function {\n\tconstructor(...selectors) {\n\t\tsuper(\"CONCAT\", \"('\" + selectors.join(\", \") + \"')\");\n\t}\n}\n\nexport { Function, Absolute, Average, Min, Max, Sum, CurrentDate, CurrentTime, CurrentTimestamp, Size, Length, Trim, Upper, Lower, Concat };","import { Like, Equal, NotEqual, Gt, Ge, Lt, Le, IsNull, IsNotNull, IsEmpty, IsNotEmpty, In } from './comparators.js';\nimport { And, Or, Not, Exists } from './operators.js';\nimport { Absolute, Average, Min, Max, Sum, CurrentDate, CurrentTime, CurrentTimestamp, Size, Length, Trim, Upper, Lower, Concat } from './functions.js';\n\nexport class SpringFilterQueryBuilder {\n\tstatic and(...items) {\n\t\treturn new And(...items);\n\t}\n\n\tstatic or(...items) {\n\t\treturn new Or(...items);\n\t}\n\n\tstatic not(item) {\n\t\treturn new Not(item);\n\t}\n\n\tstatic exists(item) {\n\t\treturn new Exists(...item);\n\t}\n\n\tstatic like(selector, value) {\n\t\treturn new Like(selector, value);\n\t}\n\n\tstatic equal(selector, value) {\n\t\treturn new Equal(selector, value);\n\t}\n\n\tstatic notEqual(selector, value) {\n\t\treturn new NotEqual(selector, value);\n\t}\n\n\tstatic gt(selector, value) {\n\t\treturn new Gt(selector, value);\n\t}\n\n\tstatic ge(selector, value) {\n\t\treturn new Ge(selector, value);\n\t}\n\n\tstatic lt(selector, value) {\n\t\treturn new Lt(selector, value);\n\t}\n\n\tstatic le(selector, value) {\n\t\treturn new Le(selector, value);\n\t}\n\n\tstatic isNull(selector, value) {\n\t\treturn new IsNull(selector, value);\n\t}\n\n\tstatic isNotNull(selector, value) {\n\t\treturn new IsNotNull(selector, value);\n\t}\n\n\tstatic isEmpty(selector, value) {\n\t\treturn new IsEmpty(selector, value);\n\t}\n\n\tstatic isNotEmpty(selector, value) {\n\t\treturn new IsNotEmpty(selector, value);\n\t}\n\n\tstatic in(selector, ...value) {\n\t\treturn new In(selector, ...value);\n\t}\n\n\tstatic absolute(selector) {\n\t\treturn new Absolute(selector);\n\t}\n\n\tstatic average(selector) {\n\t\treturn new Average(selector);\n\t}\n\n\tstatic min(selector) {\n\t\treturn new Min(selector);\n\t}\n\n\tstatic max(selector) {\n\t\treturn new Max(selector);\n\t}\n\n\tstatic sum(selector) {\n\t\treturn new Sum(selector);\n\t}\n\n\tstatic currentDate(selector) {\n\t\treturn new CurrentDate(selector);\n\t}\n\n\tstatic currentTime(selector) {\n\t\treturn new CurrentTime(selector);\n\t}\n\n\tstatic currentTimestamp(selector) {\n\t\treturn new CurrentTimestamp(selector);\n\t}\n\n\tstatic size(selector) {\n\t\treturn new Size(selector);\n\t}\n\n\tstatic length(selector) {\n\t\treturn new Length(selector);\n\t}\n\n\tstatic trim(selector) {\n\t\treturn new Trim(selector);\n\t}\n\n\tstatic upper(selector) {\n\t\treturn new Upper(selector);\n\t}\n\n\tstatic lower(selector) {\n\t\treturn new Lower(selector);\n\t}\n\n\tstatic concat(selector) {\n\t\treturn new Concat(selector);\n\t}\n}","\nfunction isObj(o) {\n  return typeof o === 'object' &&\n    !Array.isArray(o) &&\n    o !== null\n}\n\nexport {\n  isObj\n}\n","import axios from 'axios';\nimport {message} from 'antd';\nimport {SpringFilterQueryBuilder as SFQB} from '../lib/query_builder';\nimport {isObj} from './util'\n\n// respone拦截器\n\naxios.defaults.baseURL = '/dirt/'\n\n// 添加响应拦截器\naxios.interceptors.response.use(function (res) {\n  if(res.status!=200){\n      message.error(res.statusText);\n      return Promise.reject(res.statusText);\n  }\n  // compatiable with  wrapper response \n  if (isObj(res) && 'data' in res && isObj(res.data) && 'code' in res.data) {\n    if (res.data.code === 0) {\n      // message.success('成功');\n      return res.data;\n    } else {\n      let  reason  = \"\"\n      if('data' in res.data)\n      {\n        reason = Array.isArray(res.data.data) ? res.data.data.join(\";\") : res.data.data;\n      }else if('message' in res.data)\n      {\n        reason = res.data.message\n      }\n      message.error(reason);\n      return Promise.reject(reason);\n    }\n\n  } else {\n    return res;\n  }\n}, function (error) {\n  message.error(error?.response?.data?.error);\n  // 超出 2xx 范围的状态码都会触发该函数。\n  // 对响应错误做点什么\n  return Promise.reject(error?.response?.data?.error);\n});\nconst getOptionsAsync = async (postData) => {\n  let ret = await axios.post(`getOptions`, postData || {})\n  // success_cb && success_cb()\n  return ret.data;\n}\nconst getEntitySchemaAsync = async (entityName) => {\n  const ret = await axios.get(`getEntitySchema?entityName=${entityName}`)\n  return ret.data;\n}\n\nconst getDataAsync = async (entityName, id) => {\n  const ret = await axios.get(`getData?entityName=${entityName}&id=${id}`)\n  return ret.data;\n}\n\nconst deleteByIdAsync = async (entityName, id, success_cb) => {\n  let ret = await axios.post(`deleteById`, {entityName, id})\n  success_cb && success_cb()\n  return ret.data;\n}\nconst deleteByIdsAsync = async (postData, success_cb) => {\n  const ret = axios.post('deleteByIds', postData)\n  success_cb && success_cb();\n  return ret.data;\n}\n\n\nconst createAsync = async (entityName, values, success_cb) => {\n  const ret = await axios.post(`create?entityName=${entityName}`, {\n    ...values\n  })\n  success_cb && success_cb();\n  return ret.data;\n}\nconst updateAsync = async (entityName, postData, success_cb) => {\n  const ret = await axios.post(`update?entityName=${entityName}`, postData)\n  success_cb && success_cb();\n  return ret.data;\n}\nconst actionAsync = async (postData, success_cb) => {\n  const ret = await axios.post(`action`, postData)\n  success_cb && success_cb();\n  return ret.data;\n}\n\nconst getDirtFieldTypeAsync = async (postData, success_cb) => {\n  const ret = await axios.post(`getDirtFieldType`, postData)\n  success_cb && success_cb();\n  return ret.data;\n}\nconst getFullDataslAsync = async (entityName, filter, success_cb) => {\n  const ret = await axios.post(`getFullDatas?entityName=${entityName}`, {filter})\n  success_cb && success_cb();\n  return ret.data;\n}\nconst getDatasAsync = async (entityName, columnKeyMap, params = {}, sort, filter, success_cb) => {\n  // 映射 current 到 pageNumber\n  params.pageNumber = params.current;\n  delete params[\"current\"];\n\n  // 制作 JPA filters\n  let paramsCpy = Object.assign({}, params)\n  delete paramsCpy[\"pageNumber\"];\n  delete paramsCpy[\"pageSize\"];\n\n\n  const filters = Object.entries(params)\n    .filter(([key, value]) => {\n      return key !== 'pageNumber' && key !== 'pageSize' && value\n    })\n\n    // 处理 eFilterOperator \n    .map(([key, value]) => {\n      if (Array.isArray(value)) {\n        let column = columnKeyMap[key];\n        if (column.searchType.valueType === \"dateTimeRange\"\n          || column.searchType.valueType === \"dateRange\"\n          || column.searchType.valueType === \"timeRange\"\n        ) {\n          return SFQB.and(SFQB.ge(key, value[0]), SFQB.le(key, value[1]));\n        } else {\n          throw new Error(\"未实现\");\n        }\n      } else if (typeof (value) == 'string') {\n        if (value.length > 0)\n          return SFQB.like(key, `${value}`);\n        return null;\n      } else {\n        if (isObj(value)) {\n          // convert key {a:1,b:1} ==>  \"key.a : 1 AND key.b : 2\"\n          return Object.entries(value).map(([k, v]) => SFQB.equal(key + '.' + k, v))\n        }\n        else {\n          return SFQB.equal(key, `${value}`);\n        }\n      }\n    })\n\n  // 手动组装spring-filter \n  let filterParams = \"\"\n  //  全部组装成 and 条件，在 table　里没有例外\n  let filterStr = SFQB.and(...filters).toString();\n  //  复合spring-filter 标准\n  if (filterStr !== \"()\") {filterParams = {filter: filterStr}}\n\n\n  // 制作 JPA page 里的sort\n  let sortQuery = Object.entries(sort)\n    .map(v => {\n      let arrow = \"desc\"\n      if (v[1] === \"ascend\")\n        arrow = \"asc\"\n      return v[0] + \",\" + arrow\n    })\n    .join('&')\n  let sortParams = \"\"\n  if (sortQuery.length)\n    sortParams = `&sort=${sortQuery}`;\n\n  // params.pageNumber-1 从 0 页开始\n  const pageParam = `&size=${params.pageSize}&page=${params.pageNumber - 1}`\n\n  let url = `getDatas?entityName=${entityName}${pageParam}${sortParams}`;\n\n  // 要符合 ProTalbe 的数据格式\n  let ret = await axios.post(url, {...filterParams});\n  return new Promise(\n    (resolve, reject) => {\n      resolve({\n        data: ret.data,\n        total: ret.page.totalPages * ret.page.pageSize,\n        success: true\n      });\n\n    }\n  );\n}\nexport default {\n  getTableHeadersAsync: getEntitySchemaAsync,\n  getDataAsync,\n  deleteByIdAsync,\n  deleteByIdsAsync,\n  createAsync,\n  updateAsync,\n  getOptionsAsync,\n  actionAsync,\n  getDirtFieldTypeAsync,\n  searchFullAsync: getFullDataslAsync,\n  searchAsync: getDatasAsync\n}\n\n\n\n","export default {\n  None: \"None\",\n  ManyToOne: \"ManyToOne\",\n  OneToOne: \"OneToOne\",\n  OneToMany: \"OneToMany\",\n  ManyToMany: \"ManyToMany\",\n}\n","import React from 'react';\nimport ReadForm from './readForm'\nimport {isObj} from '../logic/util'\nexport default {\n  table: (title, cls, idObj) => {\n    if(idObj==null) \n    {\n      return\n    }\n    if (isObj(idObj)) {\n      console.assert(idObj.id,\"必须有 id\"+idObj)\n      return <ReadForm key={cls + idObj.id} title={title} id={idObj.id} cls={cls} name={idObj?.name} />\n    }\n    else {\n      console.assert(idObj,\"必须有 id\"+idObj)\n      return <ReadForm key={cls + idObj} title={title} id={idObj} cls={cls}/>\n    }\n  },\n  readForm: (title, cls, idObj) => {\n    if(idObj==null) \n    {\n      return\n    }\n    if (isObj(idObj))\n    {\n      console.assert(idObj.id,\"必须有 id\"+idObj)\n      return <ReadForm key={cls + idObj.id} title={title} id={idObj.id} cls={cls} name={idObj?.name} />\n      }\n    else\n    {\n      console.assert(idObj,\"必须有 id\"+idObj)\n      return <ReadForm key={cls + idObj} title={title} id={idObj} cls={cls} />\n      }\n  }\n}\n\n","import React, {\n  useState,\n  useEffect,\n} from 'react';\nimport {BetaSchemaForm, } from '@ant-design/pro-components';\nimport network from '../logic/network'\nimport Consts from \"../consts/consts\"\nimport customRender from './customRender'\nimport {isObj} from '../logic/util';\n\nexport default function ({title, cls, id, name}) {\n  let [formData, setFormData] = useState([])\n  // 如果没有 name，则使用 id\n  if (name == null) name = id\n  const [show, setShow] = useState(false);\n\n  useEffect(\n    () => {\n      show && (async () => {\n        let headers = await network.getTableHeadersAsync(cls)\n        let data = await network.getDataAsync(cls, id)\n        headers = headers.map(d => {\n          const {relation, idOfEntity: cls2, id, title, dataIndex} = d;\n          if (relation === Consts.None) {\n            d.initialValue = data[d.key];\n          }\n          // 有 relation，要做嵌套显示处理\n          else if (relation === Consts.OneToOne || relation === Consts.ManyToOne) {\n            d.initialValue = customRender.readForm(title, cls2, data[dataIndex]?.id);\n          }\n          else if (relation === Consts.OneToMany || relation === Consts.ManyToMany) {\n            d.initialValue = <>\n              {\n                data[dataIndex]?.map(c => {return customRender.readForm(title, cls2, c)})\n              }\n            </>\n          } else {\n            // why here ????\n            debugger\n          }\n\n          return d;\n        }).sort((a, b) => a.index - b.index);\n        setFormData(headers)\n      })()\n    }\n    , [show, cls, id])\n\n  return <BetaSchemaForm\n    title={title + \":\" + id}\n    readonly={true}\n    onInit={e => setShow(true)}\n    trigger={<a href=\"#/\"> {name} </a>}\n    layoutType='ModalForm'\n    columns={formData}\n    autoFocusFirstInput\n    submitTimeout={4000}\n    rowProps={{gutter: [16, 16]}}\n    colProps={{span: 12, }}\n    grid={true}\n    onFinish={v => {setShow(false);}} >\n  </BetaSchemaForm>\n}\n","export default {\n  //密码输入框\n  password: \"password\",\n  //金额输入框\n  money: \"money\",\n  //文本域\n  textarea: \"textarea\",\n  //日期\n  date: \"date\",\n  //日期时间\n  dateTime: \"dateTime\",\n  //周\n  dateWeek: \"dateWeek\",\n  //月\n  dateMonth: \"dateMonth\",\n  //季度输入\n  dateQuarter: \"dateQuarter\",\n  //年份输入\n  dateYear: \"dateYear\",\n  //日期区间\n  dateRange: \"dateRange\",\n  //日期时间区间\n  dateTimeRange: \"dateTimeRange\",\n  //时间\n  time: \"time\",\n  //时间区间\n  timeRange: \"timeRange\",\n  //文本框\n  text: \"text\",\n  //富文本\n  richtext: \"richtext\",\n  //下拉框\n  select: \"select\",\n  selectInputMultipal:\"selectInputMultipal\",\n  selectLiveInput:\"selectLiveInput\",\n  //可下拉，可输入\n  selectInput:\"selectInput\",\n  //树形下拉框\n  treeSelect: \"treeSelect\",\n\n  entitySelect: \"entitySelect\",\n  // 多选框\n  checkbox: \"checkbox\",\n  //星级组件\n  rate: \"rate\",\n  //单选框\n  radio: \"radio\",\n  //按钮单选框\n  radioButton: \"radioButton\",\n  //进度条\n  progress: \"progress\",\n  //百分比组件\n  percent: \"percent\",\n  //数字输入框\n  digit: \"digit\",\n  // 经纬度\n  longlat: \"longlat\",\n  //秒格式化\n  second: \"second\",\n  //头像\n  avatar: \"avatar\",\n  //代码框\n  code: \"code\",\n  //开关 switch, switch 是关键字\n  \"switch\": \"switch\",\n  //相对于当前时间\n  fromNow: \"fromNow\",\n  //图片\n  image: \"image\",\n  //代码框，但是带了 json 格式化\n  jsonCode: \"jsonCode\",\n  //颜色选择器\n  color: \"color\",\n  //级联选择器\n  cascader: \"cascader\",\n\n  // 图片上传\n  imageUploader: \"imageUploader\",\n\n  group: \"group\",\n  formList: \"formList\",\n  slide: \"slide\"\n}\n","import React, {useState, useCallback} from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\n\n\n//TODO: 回车才设值，测试先这样吧 \nfunction WriteView(props) {\n  const [value, setValue] = useState(props.value || '');\n  let innerChange = useCallback((value) => {\n    setValue(value);\n    props.onChange && props.onChange(value);\n  }, [props.onChange])\n  return <ReactQuill onBlur={e => {\n  }} theme=\"snow\" value={value} onChange={v => innerChange(v)} />;\n}\n\nfunction TableRowView(props) {\n  return <div dangerouslySetInnerHTML={{__html: props.value}} />;\n}\nexport default {\n  WriteView,\n  TableRowView,\n  SearchView: null,\n  ReadView: null,\n}\n","import {Cascader} from 'antd';\nimport React, {useState, useEffect} from 'react';\nimport network from '../logic/network'\n\nconst dataAdapter = (ds, childAlias) => {\n  if (ds) {\n    var obj = JSON.parse(JSON.stringify(ds)\n      .replaceAll(\"\\\"name\\\":\", \"\\\"label\\\":\")\n      .replaceAll(\"\\\"id\\\":\", \"\\\"value\\\":\")\n      .replaceAll(\"\\\"\" + childAlias + \"\\\":\", \"\\\"children\\\":\")\n    );\n    return obj;\n  }\n  return ds;\n}\nconst SearchView = (props) => {\n  const {idOfEntity, subTreeName,onValueSet} = props;\n  const [options, setOptions] = useState([]);\n\n  const request = async (id) => {\n    let data = []\n    if (id == null) {\n      data = await network.searchFullAsync(idOfEntity, \"(name : 'root')\");\n      data = data[0]\n    } else {\n      data = await network.getDataAsync(idOfEntity, id);\n    }\n    return data ? dataAdapter(data[subTreeName], subTreeName) : []\n  }\n  useEffect(() => {\n    (async () => {\n      let d = await request(null)\n      setOptions(d)\n    })()\n  }, [])\n\n  const onChange = (valueArrays, optionArrays) => {\n    onValueSet(valueArrays, optionArrays)\n  };\n\n  const loadData = async (selectedOptions) => {\n    const targetOption = selectedOptions[selectedOptions.length - 1];\n    targetOption.loading = true; // load options lazily\n    let id = targetOption.value\n    let d = await request(id)\n    targetOption.children = d;\n    targetOption.loading = false;\n    setOptions([...options]);\n  };\n\n  return <Cascader options={options} loadData={loadData} onChange={onChange} changeOnSelect />;\n};\n\n// export default App;\nexport default {\n  WriteView: SearchView,\n  TableRowView: null,\n  SearchView,\n  ReadView: null,\n}\n\n","import {Select,SelectProps,message} from 'antd';\nimport React, {useState, useEffect,useCallback} from 'react';\nimport network from '../logic/network'\n\nconst options = [];\nfor (let i = 10; i < 36; i++) {\n  options.push({\n    value: i.toString(36) + i,\n    label: i.toString(36) + i,\n  });\n}\nconst handleChange = (value) => {\n  console.log(`selected ${value}`);\n};\nconst SearchView = (props) => {\n\n  const [value, setValue] = useState([]);\n  \n  let fuc= useCallback((e)=>{\n    let a = e;\n    // debugger\n    if(props.size){\n      if(props.size < e.length)\n      {\n        // message.error('超出可输大小');\n        a = a.splice(a.length-props.size,props.size)\n      }\n    }\n      setValue(a)\n      props.handleChange(a)\n  })\n  return ( <Select\n    mode=\"tags\"\n    style={{\n      width: '100%',\n    }}\n    value={value}\n    allowClear={true}\n    tokenSeparators={[',']}\n    placeholder={props.placeholder}\n    onChange={fuc}\n    options={props.options}\n  />)\n};\n\n// export default App;\nexport default {\n  WriteView: SearchView,\n  TableRowView: null,\n  SearchView,\n  ReadView: null,\n}\n\n","import React, {useState} from 'react';\nimport {Upload, Carousel} from 'antd';\nimport ImgCrop from 'antd-img-crop';\n\nfunction WriteView(props) {\n  const [fileList, setFileList] = useState([\n    // {\n    //   uid: '-1',\n    //   name: 'image.png',\n    //   status: 'done',\n    //   url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n    // },\n  ]);\n\n  const onChange = ({fileList: newFileList}) => {\n    console.log(newFileList)\n    setFileList(newFileList);\n  };\n\n  const onPreview = async (file) => {\n    let src = file.url;\n\n    if (!src) {\n      src = await new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file.originFileObj);\n\n        reader.onload = () => resolve(reader.result);\n      });\n    }\n\n    const image = new Image();\n    image.src = src;\n    const imgWindow = window.open(src);\n    const a = imgWindow?.document.write(image.outerHTML);\n  };\n\n  return (\n    <ImgCrop rotate readOnly>\n      <Upload\n        action=\"http://127.0.0.1:8081/dirt/upload\"\n        listType=\"picture-card\"\n        fileList={fileList}\n        onChange={onChange}\n        onPreview={onPreview}\n      >\n        {fileList.length < 5 && '+ Upload'}\n      </Upload>\n    </ImgCrop>\n  );\n};\n\n\nconst contentStyle = {\n  height: '160px',\n  color: '#fff',\n  lineHeight: '160px',\n  textAlign: 'center',\n  background: '#364d79',\n};\n\nconst TableRowView = () => (\n  <Carousel autoplay>\n    <div>\n      <h3 style={contentStyle}>1</h3>\n    </div>\n    <div>\n      <h3 style={contentStyle}>2</h3>\n    </div>\n    <div>\n      <h3 style={contentStyle}>3</h3>\n    </div>\n    <div>\n      <h3 style={contentStyle}>4</h3>\n    </div>\n  </Carousel>\n);\nexport default {\n  WriteView,\n  TableRowView,\n  SearchView: null,\n  ReadView: null,\n}\n","import { Select, Spin } from 'antd';\nimport debounce from 'lodash/debounce';\nimport React, { useMemo, useRef, useState,useCallback } from 'react';\nfunction DebounceSelect({ fetchOptions, debounceTimeout = 100, ...props }) {\n  const [fetching, setFetching] = useState(false);\n  const [options, setOptions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  \n  const fetchRef = useRef(0);\n  const debounceFetcher = useMemo(() => {\n    setOptions([])\n    const loadOptions = (value) => {\n      fetchRef.current += 1;\n      const fetchId = fetchRef.current;\n      // setOptions([]);\n      setFetching(true);\n      setLoading(true)\n      fetchOptions(value).then((newOptions) => {\n        setLoading(false)\n        if (fetchId !== fetchRef.current) {\n          // for fetch callback order\n          return;\n        }\n        setOptions(newOptions);\n        setFetching(false);\n      });\n    };\n    return debounce(loadOptions, debounceTimeout);\n  }, [fetchOptions, debounceTimeout]);\n  return (\n    <Select\n      labelInValue\n      showArrow\n      loading={loading}\n      onFocus={debounceFetcher}\n      filterOption={false}\n      onSearch={debounceFetcher}\n      notFoundContent={fetching ? <Spin size=\"small\" /> : null}\n      {...props}\n      options={options}\n    />\n  );\n}\n\n// Usage of DebounceSelect\n\nconst SearchView = (props) => {\n  const [value, setValue] = useState(props.value || []);\n  let func= useCallback((e)=>{\n  let a = e;\n  // debugger\n  if(props.size){\n    if(props.size < e.length)\n    {\n      // message.error('超出可输大小');\n      a = a.splice(a.length-props.size,props.size)\n    }\n  }\n    setValue(a)\n    props.onChange(a)\n})\n\n  return (\n    <DebounceSelect\n      mode=\"tags\"\n      value={value}\n      placeholder=\"Select users\"\n      fetchOptions={props.fetchOptions}\n      onChange={func}\n      style={{\n        width: '100%',\n      }}\n    />\n  );\n};\n// export default App;\nexport default {\n  WriteView: SearchView,\n  TableRowView: null,\n  SearchView,\n  ReadView: null,\n}\n\n","import React, {useState, useRef, useEffect} from 'react';\nimport {BetaSchemaForm} from '@ant-design/pro-components';\nimport DirtTable from './dirtTable'\nimport {Modal, Input, Button} from 'antd';\nimport Consts from '../consts/consts'\nimport UIConsts from '../consts/uiConsts'\nimport customRender from './customRender'\nimport RichText from './richEditor'\nimport Cascader from './cascader'\nimport ImageUploader from './imageUploader'\nimport SelectInput from './selectInput'\nimport SelectLiveInput from './selectLiveInput'\nimport network from '../logic/network'\nimport {SearchOutlined} from '@ant-design/icons';\n\nexport default (props) => {\n  const {entityName, name, triggerCompoent, columns, onFinish, onInit} = props;\n  // debugger\n  // 有可能有多个 modal 需要保持状态，使用{}\n  const [isModalOpen, setIsModalOpen] = useState({});\n  const [fieldName, setFieldName] = useState(\"\");\n\n\n  const showModal = (name) => {\n    setIsModalOpen(s => {return {...s, [name]: true}});\n  };\n  const handleOk = (name) => {\n    setIsModalOpen(s => {return {...s, [name]: false}});\n  };\n  const handleCancel = (name) => {\n    setIsModalOpen(s => {return {...s, [name]: false}});\n  };\n\n  let createColumns = columns.map(column => {\n    const {key: columnKey, idOfEntity, relation, dependColumn} = column\n    // 自定义创建 formItem\n    if (column.valueType === UIConsts.selectLiveInput) {\n      column[\"renderFormItem\"] = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        return <SelectLiveInput.WriteView \n        size={1}\n        fetchOptions={\n          async (username) => {\n            const arg = form.getFieldValue(dependColumn)\n            return network.getOptionsAsync({entityName, subKey: columnKey, args: {[dependColumn]: arg}});\n          }\n        }\n          onChange={\n            (e) => {\n              form.setFieldValue(columnKey, e?.[0]?.value)\n            }\n          }\n        />\n      }\n    }\n    if (column.valueType === UIConsts.selectInput) {\n      column[\"renderFormItem\"] = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        let options = Object.entries(item.valueEnum).map(([k, v]) => {return {label: v.text, value: v.text}})\n        return <SelectInput.WriteView options={options} size={1} handleChange={e => {\n          form.setFieldValue(columnKey, e[0])\n        }} />\n      }\n    }\n    if (column.valueType === UIConsts.selectInputMultipal) {\n      column[\"renderFormItem\"] = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        let options = Object.entries(item.valueEnum).map(([k, v]) => {return {label: v.text, value: v.text}})\n        return <SelectInput.WriteView options={options} handleChange={e => {\n          form.setFieldValue(columnKey, e)\n        }} />\n      }\n    }\n    if (column.valueType === UIConsts.cascader) {\n      column[\"renderFormItem\"] = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        // debugger\n        return <Cascader.WriteView idOfEntity={idOfEntity} subTreeName={column.subTreeName} onValueSet={(valueArrays, optionArrays) => {\n          const v = valueArrays?.slice(-1)?.[0]\n          if (v) form.setFieldValue(columnKey, {id: v})\n        }} />\n      }\n    }\n    else if (column.valueType === UIConsts.richtext) {\n      column[\"colProps\"] = {xs: 24, md: 24}\n      column[\"renderFormItem\"] = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        return <RichText.WriteView key={item?.id} vaule={form.getFieldValue(columnKey)} onChange={value => {\n          form.setFieldValue(columnKey, value)\n        }} />\n      }\n    }\n    else if (column.valueType === UIConsts.imageUploader) {\n      column[\"colProps\"] = {xs: 24, md: 24}\n      column[\"renderFormItem\"] = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        return <ImageUploader.WriteView key={item?.id} vaule={form.getFieldValue(columnKey)} onChange={value => {\n          form.setFieldValue(columnKey, value)\n        }} />\n      }\n    }\n    // 如果有 idOfEntity，也就是要处理 relation，弹框去查 relation\n    else if (idOfEntity) {\n      column[\"renderFormItem\"] = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        const vals = form.getFieldValue(columnKey)\n        return <>\n          {/*\n          <IdHolder idObjs={form.getFieldValue(columnKey)} idOfEntity = {idOfEntity}/>\n          */}\n          <Input.Group compact>\n            <Input\n              allowClear\n              style={{\n                width: '75%',\n              }}\n              placeholder={column.placeholder}\n              value={form.getFieldValue(columnKey)}\n              onChange={\n                e => {\n                  // clear\n                  if (e.target.value == \"\" || e.target.value == {}) {\n                    if (relation === Consts.OneToMany || relation === Consts.ManyToMany) {\n                      form.setFieldValue(columnKey, [])\n                    } else if (relation === Consts.ManyToOne || relation === Consts.OneToOne) {\n                      form.setFieldValue(columnKey, null)\n                    } else {\n                      form.setFieldValue(columnKey, e.target.value)\n                    }\n                  } else {\n                    // create\n                    form.setFieldValue(columnKey, e.target.value)\n                  }\n                }\n              }\n            />\n            <Button type=\"primary\" onClick={e => {\n              showModal(columnKey)\n            }}><SearchOutlined /></Button>\n          </Input.Group>\n          {\n            vals && Array.isArray(vals) ? vals.map(v => customRender.readForm(v.id, idOfEntity, v.id))\n              : customRender.readForm(vals?.id, idOfEntity, vals?.id)\n          }\n          <Modal destroyOnClose={true} width={\"80%\"} height={\"60%\"} title={column.title} open={isModalOpen[columnKey]} onOk={e => handleOk(columnKey)} onCancel={e => handleCancel(columnKey)}>\n            <DirtTable entityName={idOfEntity}\n              rowSelection={{\n                getCheckboxProps: (record) => {\n                  // let disabled = false\n                  // if (Array.isArray(vals)) {\n                  //   disabled = vals?.map(v => v.id).includes(record.id)\n                  // } else {\n                  //   disabled = record.id === vals?.id\n                  // }\n                  // return {\n                  //   disabled,\n                  // }\n                },\n                defaultSelectedRowKeys: vals ? Array.isArray(vals) ? vals.map(v => v.id) : [vals] : [],\n                type: (relation === Consts.OneToMany || relation === Consts.ManyToMany) ? \"checkbox\" : \"radio\",\n                onChange: (selectedRowKeys, selectedRows, info) => {\n                  // JPA compatiable\n                  if (relation === Consts.OneToMany || relation === Consts.ManyToMany) {\n                    const ids = selectedRows.map(v => {return {id: v.id}})\n                    form.setFieldValue(columnKey, ids)\n                  } else if (relation === Consts.ManyToOne || relation === Consts.OneToOne) {\n                    const ids = selectedRows.map(v => {return {id: v.id}})\n                    form.setFieldValue(columnKey, ids[0])\n                  }\n                  // Pure Id,Maybe for mabatis compatiable\n                  else {\n                    const ids = selectedRows.map(v => {return v.id})\n                    form.setFieldValue(columnKey, ids[0])\n                  }\n\n                }\n              }} />\n          </Modal>\n        </>\n      }\n    }\n    return column\n  })\n\n  const actionRef = useRef();\n  return <BetaSchemaForm\n    trigger={triggerCompoent}\n    formRef={actionRef}\n    onInit={onInit}\n    title={name}\n    layoutType='ModalForm'\n    columns={createColumns}\n    autoFocusFirstInput\n    submitTimeout={4000}\n    rowProps={{gutter: [16, 16]}}\n    colProps={{span: 24, }}\n    grid={true}\n    onFinish={v => {onFinish(v);}}\n  >\n  </BetaSchemaForm>\n}\n","import React, {useState, useEffect, useRef} from 'react';\nimport {PlusOutlined, } from '@ant-design/icons';\nimport {ProTable} from '@ant-design/pro-components';\nimport {Button, message, DatePicker, TimePicker, Space, Popconfirm} from 'antd';\nimport network from '../logic/network'\nimport ReadForm from './readForm'\nimport WriteForm from './writeForm'\nimport Consts from '../consts/consts'\nimport UIConsts from '../consts/uiConsts'\nimport customRender from './customRender'\nimport {isObj} from '../logic/util';\nimport Cascader from './cascader'\nimport RichText from './richEditor'\nimport ImageUploader from './imageUploader'\nconst {RangePicker} = DatePicker;\n\n\nexport default function DirtTable(props) {\n  // excludeIds: default self id\n  let {entityName, onSelected, rowSelection, readOnly} = props;\n  rowSelection = rowSelection || {}\n  let [columns, setColumns] = useState([]);\n  let [columnKeyMap, setColumnKeyMap] = useState({})\n\n\n  // 给 header 加点料，如加上新的 render，以支持在不同的场景下，渲染不同的组件，典型如：日期在创建时，是选择具体的值，但在搜索时，经常性是个范围。\n  const redefineHeader = (headers, c) => {\n    const {title, idOfEntity: cls, dataIndex, relation} = c\n\n    // json object 与 json 有区别。服务器过来的是 json，json 不支持key为数字，只能放在值里，如果前端需要，先放值里，再转到 key\n    if (c.valueEnum) {\n      c.valueEnum = Object.entries(c.valueEnum).reduce((a, [k, c]) => {a[c.status] = c; return a;}, {})\n    }\n\n    // 自定义搜索栏\n    if (c.searchType != null) {\n      c.renderFormItem = (item, {type, defaultRender, formItemProps, fieldProps, ...rest}, form) => {\n        if (c.searchType.valueType === UIConsts.cascader) {\n          return <Cascader.SearchView idOfEntity={c.idOfEntity} subTreeName={c.subTreeName} onValueSet={(valueArrays, optionArrays) => {\n            const v = valueArrays?.slice(-1)?.[0]\n            if (v) form.setFieldValue(dataIndex, {id: v})\n          }} />\n        }\n        if (c.searchType.valueType === 'dateTimeRange') {\n          return <RangePicker showTime />\n        } else if (c.searchType.valueType === 'dateRange') {\n          return <RangePicker />\n        } else if (c.searchType.valueType === 'timeRange') {\n          return <TimePicker.RangePicker />\n        }\n      }\n    }\n\n\n    // 自定义 table row\n    // 1.　relation 关系处理优先级更高\n    if (relation === Consts.OneToOne || relation === Consts.ManyToOne) {\n      c['render'] = (text, record, index) => {return customRender.table(title, cls, record[dataIndex]);}\n      return c;\n    }\n    else if (relation === Consts.OneToMany || relation === Consts.ManyToMany) {\n      c['render'] = (text, record, index) => {\n        return record[dataIndex]?.map(d => {return customRender.table(title, cls, d)})\n      }\n      return c;\n    }\n    // 2. 然后是自定义 table row\n    if (c.valueType === UIConsts.richtext) {\n      c['render'] = (text, record, index) => {\n        return <RichText.TableRowView value={record[dataIndex]} />\n      }\n      return c;\n    }\n    if (c.valueType === UIConsts.imageUploader) {\n      c['render'] = (text, record, index) => {\n        return <ImageUploader.TableRowView value={record[dataIndex]} />\n      }\n      return c;\n    }\n\n    // 生成 id 关连的实际 entity 详情跳转\n    // 可以是多对一的关系，也可以是纯 id\n    if (cls) {\n      let key = c[\"key\"]\n      c['render'] = (text, record, index) => {\n        const target = record[dataIndex]\n        if (target && Array.isArray(target)) {\n          return <> {target.map(r => <ReadForm key={r.id} title={title} id={r.id} cls={cls} />)} </>\n        }\n        else if (isObj(target)) {\n          const rid = target?.id;\n          return rid ? <ReadForm key={rid} title={title} id={rid} cls={cls} /> : '';\n        }\n        else {\n          const rid = target;\n          return rid ? <ReadForm key={rid} title={title} id={rid} cls={cls} /> : '';\n        }\n      }\n    }\n\n    // 处理 actions\n    if (c[\"actions\"]) {\n      c['render'] = (text, record, index) => Object.entries(c[\"actions\"]).map(([key, action]) => generateAction(headers, action, record, index));\n    }\n\n\n    return c;\n  }\n\n  useEffect(() => {\n    (async () => {\n      let headers = await network.getTableHeadersAsync(entityName)\n      if (readOnly) {\n        headers = headers.filter(c => c['title'] !== '操作')\n      }\n      headers = headers.map(c => {return redefineHeader(headers, c);});\n\n      // 形成 key 为键的 headers，方便一些取值，比如：在 searchForm 里生成 filter 参数时\n      let maps = headers.reduce((a, c) => {a[c.key] = c; return a;}, columnKeyMap);\n\n\n      setColumnKeyMap(maps)\n\n      setColumns(headers)\n\n    })()\n  }, [columnKeyMap, entityName]);\n\n\n  const searchAsyncWrapper = async (params = {}, sort, filter) => {\n    return network.searchAsync(entityName, columnKeyMap, params, sort, filter)\n\n    // return new Promise(\n    //   (resolve, reject) => {\n    //     resolve({\n    //       data: result.data.filter(d => d.id != excludeId),\n    //       total: result.total,\n    //       success: result.success\n    //     });\n    //   }\n    // );\n  }\n\n  const generateCreateForm = () => {\n    let submitTypes = columns\n      .filter(c => c.submitType != null)\n      .map(c => c.submitType)\n      .map(c => {\n        // TODO:  定义 ManyToOne OneToMany 的 render 筛选器\n        return c;\n      })\n      .sort((a, b) => a.index - b.index);\n    return <WriteForm entityName={entityName} name=\"创建\" columns={submitTypes}\n      onFinish={values =>\n        network.createAsync(entityName, values, () => {actionRef.current.reload()})\n      }\n      triggerCompoent={<Button type=\"primary\"> <PlusOutlined /> 创建 </Button>} />\n  }\n\n  const generateAction = (headers, action, record, index) => {\n    let key = action.key\n    let text = action.text\n    if (key === 'edit' || key === 'detail') {\n\n      let formData = headers\n        //  只剔除  actions\n        .filter(c => c[\"actions\"] == null)\n        //  取出 submitType\n        .map(c => c.submitType)\n        //   过滤掉 null\n        .filter(c => c)\n        .sort((a, b) => a.index - b.index);\n      // 增加 id  显示\n      formData.splice(0, 0, {\n        \"index\": 10000,\n        \"width\": \"lg\",\n        \"key\": \"id\",\n        \"placeholder\": \"\",\n        \"submitable\": true,\n        \"valueType\": \"digit\",\n        \"title\": \"id\",\n        \"tooltip\": \"id\",\n        \"readonly\": true,\n        \"valueEnum\": null,\n        \"colProps\": {\n          \"md\": 12\n        },\n        \"initialValue\": record.id\n      });\n      formData = formData.map(d => {\n        d.initialValue = record[d.key];\n        return d;\n      })\n        .sort((a, b) => a.index - b.index);\n\n      // console.log(headers, action, record, index)\n      let isDetailed = key === 'detail'\n\n      // 只读模式\n      // https://github.com/ant-design/pro-components/issues/3323\n\n      return <WriteForm entityName={entityName} key={key} name={text} readOnly={isDetailed} columns={formData}\n        onFinish={(postdata) =>\n          network.updateAsync(entityName, postdata, () => {\n            actionRef.current.reload();\n          }\n          )\n        } triggerCompoent={<a> {text} </a>} />\n    }\n    else if (key === 'delete') {\n\n      return <Popconfirm key={key} title=\"确定删除?\" onConfirm={async () => {\n        network.deleteByIdAsync(entityName, record.id, () => {\n          actionRef.current.reload();\n        })\n      }}>\n        {<span className='link delete'> {text} </span>}\n      </Popconfirm>\n    } else {\n      // action\n      const entries = Object.entries(action.argColumnsMap)\n\n      // action 是否显示\n      if (key in record && !record[key]) {\n        return\n      }\n      if (entries.length == 0) {\n        // 自定义 action 不带任何参数\n        return <a key={key} onClick={() => {\n          doAction(text, {\n            entityName,\n            actionName: key,\n            id: record.id\n          });\n        }}>{text}</a>\n      } else {\n        //  自定义action 带参数，弹出 form 由用户输入\n        let actionFormArgs = entries.reduce((a, [k, v]) => {a.push(v); return a;}, [])\n        // console.log(actionFormArgs)\n        return <WriteForm entityName={entityName} key={key} name={text} columns={action.argColumnsMap.args} onFinish={(postdata) => {\n          doAction(text, {\n            entityName,\n            actionName: key,\n            id: record.id,\n            args: {args: postdata}\n          })\n        }\n        } triggerCompoent={<a href=\"#!\"> {text} </a>} />\n\n      }\n    }\n  }\n\n  const doAction = async (text, params) => {\n\n    let res = await network.actionAsync(params, () => {\n      message.success(`${text} 成功`);\n      actionRef.current.reload();\n    })\n    // if (res.data.code === 0) {\n    //   if (res.data) {\n    //     message.success(`${text} 成功`);\n    //     actionRef.current.reload();\n    //   }\n    // } else {\n    //   message.error(`${text}  失败`);\n    // }\n  }\n  // 用来操作 ProTable\n  // https://procomponents.ant.design/components/table/#actionref-%E6%89%8B%E5%8A%A8%E8%A7%A6%E5%8F%91\n  const actionRef = useRef();\n\n\n  return (columns && <ProTable\n    key={entityName}\n    scroll={{x: columns.length * 200}}\n    columns={columns}\n    actionRef={actionRef}\n    cardBordered\n    request={searchAsyncWrapper}\n    editable={{type: 'multiple', }}\n    columnsState={{\n      persistenceKey: 'Dirt',\n      persistenceType: 'localStorage',\n      onChange(value) {},\n    }}\n    rowKey=\"id\"\n    search={{labelWidth: 'auto', }}\n    options={{setting: {listsHeight: 400, }, }}\n    form={{\n      // 由于配置了 transform，提交的参与与定义的不同这里需要转化一下\n      // 这个地方会改变 url，可以在一定程度上通过 url 保持 form 的状态\n      syncToUrl: (values, type) => {return false;},\n    }\n    }\n    pagination={\n      {\n        pageSize: 10,\n        onChange: (page) => console.log(page),\n      }\n    }\n    dateFormatter=\"string\"\n    headerTitle=\"\"\n    toolBarRender={() => [generateCreateForm()]}\n\n    // 自定义选择项参考: https://ant.design/components/table-cn/#components-table-demo-row-selection-custom\n    rowSelection={{...rowSelection}}\n\n    tableAlertRender={({selectedRowKeys, selectedRows, onCleanSelected}) => (\n      <Space size={24} >\n\n        <span>\n          已选 {selectedRowKeys.length} 项\n          [{\n            selectedRowKeys.map(id => customRender.readForm(id, entityName, id))\n          }]\n          <a href=\"#!\" style={{marginInlineStart: 16}} onClick={() => network.deleteByIdsAsync(\n            {\n              entityName,\n              ids: selectedRowKeys\n            }, () => {\n              onCleanSelected()\n              actionRef.current.reload()\n            }\n          )}>远程删除</a>\n          <a href=\"#!\" style={{marginInlineStart: 16}} onClick={onCleanSelected}>导出数据</a>\n          {onSelected && <a href=\"#!\" style={{marginInlineStart: 16}} onClick={e => onSelected(selectedRows)}>选择</a>}\n        </span>\n      </ Space>\n    )}\n  />\n  );\n};\n","import React, {useState, useEffect} from 'react';\nimport {CarryOutOutlined, FormOutlined} from '@ant-design/icons';\nimport {Switch, Tree} from 'antd';\nimport Table from './dirtTable';\nimport network from '../logic/network';\nconst treeData = [\n  {\n    title: 'parent 1',\n    key: '0-0',\n    icon: <CarryOutOutlined />,\n    children: [\n      {\n        title: 'parent 1-0',\n        key: '0-0-0',\n        icon: <CarryOutOutlined />,\n        children: [\n          {\n            title: 'leaf',\n            key: '0-0-0-0',\n            icon: <CarryOutOutlined />,\n          },\n          {\n            title: (\n              <>\n                <div>one line title</div>\n              </>\n            ),\n            key: '0-0-0-1',\n            icon: <CarryOutOutlined />,\n          },\n          {\n            title: 'leaf',\n            key: '0-0-0-2',\n            icon: <CarryOutOutlined />,\n          },\n        ],\n      },\n      {\n        title: 'parent 1-1',\n        key: '0-0-1',\n        icon: <CarryOutOutlined />,\n        children: [\n          {\n            title: 'leaf',\n            key: '0-0-1-0',\n            icon: <CarryOutOutlined />,\n          },\n        ],\n      },\n      {\n        title: 'parent 1-2',\n        key: '0-0-2',\n        icon: <CarryOutOutlined />,\n        children: [\n          {\n            title: 'leaf',\n            key: '0-0-2-0',\n            icon: <CarryOutOutlined />,\n          },\n          {\n            title: 'leaf',\n            key: '0-0-2-1',\n            icon: <CarryOutOutlined />,\n            switcherIcon: <FormOutlined />,\n          },\n        ],\n      },\n    ],\n  },\n  {\n    title: 'parent 2',\n    key: '0-1',\n    icon: <CarryOutOutlined />,\n    children: [\n      {\n        title: 'parent 2-0',\n        key: '0-1-0',\n        icon: <CarryOutOutlined />,\n        children: [\n          {\n            title: 'leaf',\n            key: '0-1-0-0',\n            icon: <CarryOutOutlined />,\n          },\n          {\n            title: 'leaf',\n            key: '0-1-0-1',\n            icon: <CarryOutOutlined />,\n          },\n        ],\n      },\n    ],\n  },\n];\n\nconst App = (props) => {\n  const {entityName} = props;\n  const [showLine, setShowLine] = useState(true);\n  const [showIcon, setShowIcon] = useState(false);\n  const [showLeafIcon, setShowLeafIcon] = useState(true);\n  const [data, setData] = useState(treeData);\n\n  const dataAdapter = (ds) => {\n    var obj = JSON.parse(JSON.stringify(ds)\n      .replaceAll(\"\\\"name\\\":\", \"\\\"title\\\":\")\n      .replaceAll(\"\\\"subMenus\\\":\", \"\\\"children\\\":\")\n      .replaceAll(\"\\\"id\\\":\", \"\\\"key\\\":\")\n\n    );\n    console.log(obj)\n    return obj;\n  }\n\n  useEffect(() => {\n    (async () => {\n      const data = await network.getDataAsync('com.zk.mall.entity.Menu', 1)\n      setData(dataAdapter(data).children)\n    }\n    )()\n  }, [])\n  const onSelect = (selectedKeys, info) => {\n    console.log('selected', selectedKeys, info);\n  };\n\n\n\n  return (\n    <>\n      <div style={{display: 'flex'}}>\n        <div style={{width: '20%'}}>\n          <Tree\n            showLine={showLine}\n            showIcon={showIcon}\n            defaultExpandedKeys={['0-0-0']}\n            onSelect={onSelect}\n            treeData={data}\n          />\n        </div>\n        <div style={{width: '79%', height: '100vh'}}>\n          < Table entityName={entityName} />\n        </div>\n      </div>\n\n    </>\n  );\n};\n\nexport default App;\n","import React, {useState, useEffect,useSearchParams} from \"react\";\nimport 'antd/dist/antd.css';\nimport './App.css'\nimport axios from 'axios'\nimport Table from './components/dirtTable'\nimport qs from 'qs'\nimport Tree from './components/tree'\n\nfunction App() {\n  let [tables, setTables] = useState({})\n  let entityName =qs.parse(window.location.search, { ignoreQueryPrefix: true }).entityName\n  entityName=entityName \n\n  const [title, setTitle] = useState(null);\n  const [viewType, setViewType] = useState('Table');\n  \n  \n  \n  \n  useEffect(() => {\n    (async () => {\n      let data = await axios.get(`getTableMaps`)\n      setTables(data.data);\n      if(entityName!=null)\n        setTitle(data.data[entityName].text)\n    })()\n  }, [])\n  return (\n     <div >\n      {\n        Object.keys(tables).length > 0 && Object.entries(tables).map(([t, v]) => {\n          return <a key={t} href=\"#!\" onClick={e => {\n            // window.location.entityName = v.className;\n          window.location.search = \"entityName=\"+v.className;\n\n          }}>{v.text} |</a>\n        })\n      }\n      <h1>{title}</h1>\n      <hr style={{marginBottom: '25px'}} />\n      {viewType === 'Table' && (< Table entityName={entityName} />)}\n      {viewType === 'Tree' && (< Table entityName={entityName} />)}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}